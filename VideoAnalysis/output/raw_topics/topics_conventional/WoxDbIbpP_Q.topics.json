{
  "video_id": "WoxDbIbpP_Q",
  "title": "WoxDbIbpP_Q",
  "url": "https://www.youtube.com/watch?v=WoxDbIbpP_Q",
  "created_at": "2025-09-17T11:58:50.442018+00:00",
  "model": "llama3",
  "prompt_version": "topics_v1.0:19fc15e376",
  "chunking": {
    "max_duration_s": 0,
    "max_chars": 80000
  },
  "topics_mode": "title_description_with_coverage",
  "topics": [
    {
      "id": "T1",
      "title": "S00",
      "description": "Installing Blackbox Explorer and UAV text Blackbox Explorer trace templates",
      "coverage_ranges": [
        {
          "start_idx": 0,
          "end_idx": 256
        }
      ],
      "coverage_segments": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        22,
        23,
        24,
        25,
        26,
        27,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36,
        37,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        46,
        47,
        48,
        49,
        50,
        51,
        52,
        53,
        54,
        55,
        56,
        57,
        58,
        59,
        60,
        61,
        62,
        63,
        64,
        65,
        66,
        67,
        68,
        69,
        70,
        71,
        72,
        73,
        74,
        75,
        76,
        77,
        78,
        79,
        80,
        81,
        82,
        83,
        84,
        85,
        86,
        87,
        88,
        89,
        90,
        91,
        92,
        93,
        94,
        95,
        96,
        97,
        98,
        99,
        100,
        101,
        102,
        103,
        104,
        105,
        106,
        107,
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        115,
        116,
        117,
        118,
        119,
        120,
        121,
        122,
        123,
        124,
        125,
        126,
        127,
        128,
        129,
        130,
        131,
        132,
        133,
        134,
        135,
        136,
        137,
        138,
        139,
        140,
        141,
        142,
        143,
        144,
        145,
        146,
        147,
        148,
        149,
        150,
        151,
        152,
        153,
        154,
        155,
        156,
        157,
        158,
        159,
        160,
        161,
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169,
        170,
        171,
        172,
        173,
        174,
        175,
        176,
        177,
        178,
        179,
        180,
        181,
        182,
        183,
        184,
        185,
        186,
        187,
        188,
        189,
        190,
        191,
        192,
        193,
        194,
        195,
        196,
        197,
        198,
        199,
        200,
        201,
        202,
        203,
        204,
        205,
        206,
        207,
        208,
        209,
        210,
        211,
        212,
        213,
        214,
        215,
        216,
        217,
        218,
        219,
        220,
        221,
        222,
        223,
        224,
        225,
        226,
        227,
        228,
        229,
        230,
        231,
        232,
        233,
        234,
        235,
        236,
        237,
        238,
        239,
        240,
        241,
        242,
        243,
        244,
        245,
        246,
        247,
        248,
        249,
        250,
        251,
        252,
        253,
        254,
        255,
        256
      ],
      "coverage_times": [
        {
          "start_s": 0.56,
          "end_s": 1671.92
        }
      ],
      "coverage_text": "Hi everyone, this is the second in my series of videos on Betaflight filter and PID tuning.\nIn this video I'm going to take you through step by step everything you need to do and everything\nyou need to know to get the perfect PID tune on any Betaflight quad. It's quite a lot of material\nto get through so let's not waste any time. I have to start this video with a little bit of a health\nwarning. This video presumes that you are using my recommended filter tuning approach. Now I've done\nanother video where I look at filter tuning in Betaflight. This video assumes that you've completed\nthat video and that you've now got your filters correctly tuned. Don't proceed with this video\nuntil you've completed steps one to three in that other video. So the next steps are PID tuning and\nthere are three steps here that we're going to cover in this video. Finding your max D gains that\nyou're comfortable with. Then finding the right P to D balance in order to get a critically damped PID\nresponse. And then the final stage tuning feed forward for set point tracking so that we get\nreally really great responsiveness of the quad, really close tracking of your stick inputs.\nNow in order to get a really good PID tune on your quadcopter it really helps if you understand\nall the different elements of Betaflight's PID controller and what they all do. Now Betaflight's\nPID controller consists of four main parts. P is the proportional term of the PID controller.\nI is the integral term of the PID controller. D is the derivative term of the PID controller.\nAnd feed forward is used to push the quad into sharp moves and improve set point tracking.\nNow don't worry if you don't understand all of these terms right away. We're going to go through\nthem all step by step and explain how they all work now. So let's look at a diagram of Betaflight's\nPID controller. You can see that it takes two inputs. The first input is the input from the gyro which is\ntelling the PID controller what the quad is doing at this instant. And then the second input is the set\npoint. Now this is your stick positions multiplied by your rates. So it's what you are telling the quad\nyou want it to do at that instant. And these two input terms are combined in this sum here. So the\nset point minus the gyro gives the PID error. So the PID error is the difference between what you told the\nquad you wanted it to do and what it is actually doing. And that PID error is fed into the derivative,\nproportional and integral terms. And they do some maths on it which we'll talk about in a second.\nAnd the results of those terms are all added together along with the feed forward term which\nis based only on the set point. They're all added together here. And this is where the PID gains that\nyou set in beta flight are applied. So if you set a really big gain for the derivative term for example\nin this addition block here this gets multiplied by that gain. So if you double the derivative gain, the\nD gain, then it will add twice as much into this block as before. If you halve the proportional gain, suddenly\nthis term only gets added half as much. So that's where all your PID gains live in this block here.\nOnce all of those have been added together, that gives a control signal telling the quad how to\nchange what it is doing. And that gets passed to the motor mixer. And the motor mixer determines,\nah well if you want me to roll left more quickly, then I need to increase the speed of the right motors\nand decrease the speed of the left motors. So it turns the control signal that's telling the quad what\nto do into which motors do I speed up, which do I slow down. That's what the motor mixer does. So that\nis how the beta flight PID controller works in a very simple way. Now let's talk about the different\nterms. And we'll start with the proportional term because I think it's easiest to understand.\nNow the proportional term looks at the PID error. This blue line here represents zero PID error.\nSo if we have some positive PID error, then the proportional term pushes back against that and\ntries to bring the PID error to zero. If that PID error gets bigger, the proportional term pushes harder.\nAnd if it's very big like this, you can see it's pushing really hard. If the PID error goes negative,\nthen the proportional term still pushes back towards zero. So it's pushing back towards zero the whole\ntime. And the bigger the PID error, the harder it pushes back. And so whatever size the PID error is,\nand whether it's positive or negative, that proportional term is just acting to try and reduce\nthat PID error back towards that blue line, the zero line. Now let's talk about the derivative term.\nNow the derivative term is a little bit different. Because all the derivative term wants is for the\nPID error to stay the same from one minute to the next. It doesn't want it to be zero. It just wants it\nto stay the same. So if the PID error increases, the derivative term doesn't like that because it\nwants the PID error to stay the same. So it acts to try and stop the PID error increasing.\nBut if the PID error starts to decrease, the derivative term doesn't like that either. It wants the PID error to stay the same.\nSo it's pushing back against the PID error decreasing. So this is quite a strange behavior because you can see that\nthings appear to be getting better here. The PID error is decreasing. But the derivative term just is pushing back. It wants the PID error to stay the same and not decrease.\nSo that's how the derivative term works. The integral term also has a bit of a different behavior.\nThe integral term adds up the PID error over time. So here we have some small positive PID error. And initially, the integral term pushes back a little bit.\nBut then if that error doesn't go away, the integral term says, ah, I'll push back twice as hard.\nAnd then if there's another same amount of error again, three times as hard, four times as hard, five times as hard.\nIt's adding up over time, that error. And the longer that error is there, the harder the integral term pushes back.\nBut then what if the error goes negative? Well, the integral term then says, oh, okay, well, you've been negative for a bit.\nSo I guess I don't need to push as hard. Oh, you're still negative. I'm going to push even less.\nAh, still negative, even less. You can see it's adding up, but it's actually subtracting.\nIt's taking a little bit away from its push every time it sees that negative PID error.\nSo you can see the integral term is just counting. It's just adding up the error over time.\nAnd it's pushing back towards zero, but it's pushing back based on how much error has accumulated over time.\nAnd the feedforward term is completely different from the other terms in the PID controller,\nbecause it does not act on the PID error. It acts on the set point.\nAnd what it says is that if the set point is changing, I need to push the quad in the same direction to start it moving in the direction that the set point is changing.\nSo if the set point is increasing, then the feedforward term pushes the quad to change in that direction.\nIf the set point is decreasing, the feedforward term again pushes back to try and get the quad to move in the direction that the set point is moving in.\nLet's say you've just commanded full stick right roll.\nYou're doing a snap roll to the right.\nThe feedforward term sees that set point change and goes, ah, I need to start rolling right right now,\nbecause you've commanded a snap roll right.\nI need to start that move now.\nAnd it doesn't wait for the PID error to build up.\nIt acts immediately.\nAnd this allows the feedforward term to really reduce the amount of PID error that builds up,\nbecause it gets the quad moving in the right direction straight away.\nThere are three of these PID controllers in Betaflight, and they all work the same way.\nThere's one each for roll, pitch and yaw axis, and they're all separate.\nThe only difference with the yaw axis is that it doesn't have a der â€¦",
      "start_s": null,
      "end_s": null
    },
    {
      "id": "T2",
      "title": "Setting up the AOS 5 for filter and PID tuning",
      "description": "Introduction to filter and PID tuning on the AOS 5",
      "coverage_ranges": [
        {
          "start_idx": 257,
          "end_idx": 312
        }
      ],
      "coverage_segments": [
        257,
        258,
        259,
        260,
        261,
        262,
        263,
        264,
        265,
        266,
        267,
        268,
        269,
        270,
        271,
        272,
        273,
        274,
        275,
        276,
        277,
        278,
        279,
        280,
        281,
        282,
        283,
        284,
        285,
        286,
        287,
        288,
        289,
        290,
        291,
        292,
        293,
        294,
        295,
        296,
        297,
        298,
        299,
        300,
        301,
        302,
        303,
        304,
        305,
        306,
        307,
        308,
        309,
        310,
        311,
        312
      ],
      "coverage_times": [
        {
          "start_s": 1671.92,
          "end_s": 2051.68
        }
      ],
      "coverage_text": "the trace template, it'll take you to here. You can see that there are a few different versions. We want\n3.5 version because that's the version of Blackbox Explorer that we have. So right click on that and\ndownload and that will download it. Then what we're going to do is we're going to open in Blackbox Explorer,\ngo into the folder where we downloaded the trace template and simply select the trace template as a\nfile that we want to open. And it will tell us that workspaces have been loaded and that's perfect.\nThen the next thing to do is to go into our logs folder. Again, just trying to open a log. Select a\nlog in this case. I'm going to open master 200. Let's open and you can see that that's opened there and\nthe log is, that whole log is here. Now, if we're wanting to look at stick tracking, we need to use a\nparticular trace template. So go up here to workspace and select number four, stick tracking. So that's\ngood. The next thing you'll want to do is turn off Expo in the display. So we go down here to Expo on\noff and turn it off. And that is all there is to it. Now you can scroll through the log to your heart's\ncontent and find the information that you want to look at. So here's, for example, a sharp roll one\nway and then the other. And I'm sure a little further on I've done something similar on pitch.\nYeah, sharp pitch move forward and back.\nAnd a full throttle punch out. You can see the motors go up. So if you're seeing all of this,\nthat means you have everything correctly configured. And now you can look at your stick tracking and let's\nsee what you should be looking for in your stick tracking to show that you have a good tune for\nyour feed forward. So now that you've got your traces open in Black Box Explorer, the next step is to\nshow you what too little feed forward looks like. So you're probably going to start off with too little\nfeed forward because the beta flight defaults are quite conservative. If you have too little feed forward,\nyou'll see that the gyro line, which is this bluish purplish line here,\nlags behind the green line, which is a set point. And you can see it lags behind by quite a lot.\nIt's always behind. And that's because we don't have enough feed forward. You'll also see if you look\nat the motors that the motors aren't really working that hard. They never really get up to 100% throttle.\nAnd so that means that the quad is kind of being lazy. It knows that it's not doing what you've told\nit to do because that blue line isn't on top of the green line, but it's not doing anything about it.\nIt's just kind of lazing around with the motors at a modest amount of load. So that's what we need to fix.\nNow you might be tempted just to crank feed forward all the way up. If you do that, you might end up\nwith too much feed forward. And it's really important to know what too much feed forward looks like.\nIf we look at the start of this roll, you can see that everything looks really good. I mean, the gyro is\nright on top of the set point the whole way and everything looks great. But if we now look at the\nend of the roll, do you see how the gyro trace suddenly dips way below set point just here?\nThat is because feed forward is too high and the quad is actually overshooting the end of the move.\nThe other thing you'll notice is that now that we've got loads more feed forward,\nwe've actually got motor saturation. So we're hitting 100% on the motor power for one motor.\nSo the quad is working as hard as it possibly can to track set point. And you can see that the,\neven though the gyro is lagging behind the set point in this part of the move here,\nthere's nothing we can do about that because a motor has reached 100%, it's saturated and there's\nnothing more to do. So if you have that situation where gyro and set point aren't on top of each\nother, but you have a motor at 100%, then there's nothing more you can do, I'm afraid. That's as good\nas it's going to get. Finally, let's look at what I settled on for my final feed forward value for the\nAOS 5. This is what I think is about the right amount of feed forward. So you'll notice that, you know,\nwe're not quite tracking set point perfectly at the start of the move. There's possibly some more\nthat I can do there to be fair. But for this rough tune, it's absolutely fine. And at the end of the\nmove, there's no overshooting. You can see that the gyro doesn't really overshoot like it did in the\nlast slide. So that's good too. There is just the hint of an overshoot here, which tells me that I can't\nincrease feed forward anymore. Notice that we're still hitting motor saturation at the end of the\nmove here. So there is enough feed forward to saturate the motors and have the quad working as\nhard as it can to stay on set point. And that's really what we want to see. We want to see that\nwe have enough feed forward to make the motors max out on sharp moves. And then we know that we can do\nno more. The motors are doing all they can. If the quad can't track set point, that's just a\nmechanical limitation of the motors, the props, all of that kind of stuff. And we've done all we can\nin the PID controller. I hope you found this video interesting. You'll have noticed that we didn't make\nit to the end of my tuning process in this video. And that's because I have follow-up videos planned on\nhow to tune your rates and how to fine tune your PIDs for the ultimate in flight performance.\nMake sure you're subscribed so you don't miss those videos when they're ready. If you like the work that",
      "start_s": null,
      "end_s": null
    },
    {
      "id": "T3",
      "title": "Tuning Feedforward",
      "description": "Adjusting feedforward values for optimal flight performance",
      "coverage_ranges": [
        {
          "start_idx": 306,
          "end_idx": 313
        }
      ],
      "coverage_segments": [
        306,
        307,
        308,
        309,
        310,
        311,
        312,
        313
      ],
      "coverage_times": [
        {
          "start_s": 2006.96,
          "end_s": 2058.16
        }
      ],
      "coverage_text": "we have enough feed forward to make the motors max out on sharp moves. And then we know that we can do\nno more. The motors are doing all they can. If the quad can't track set point, that's just a\nmechanical limitation of the motors, the props, all of that kind of stuff. And we've done all we can\nin the PID controller. I hope you found this video interesting. You'll have noticed that we didn't make\nit to the end of my tuning process in this video. And that's because I have follow-up videos planned on\nhow to tune your rates and how to fine tune your PIDs for the ultimate in flight performance.\nMake sure you're subscribed so you don't miss those videos when they're ready. If you like the work that\nI'm doing, please consider joining my Patreon. For less than $5 a month, you can get early access to the",
      "start_s": null,
      "end_s": null
    }
  ],
  "llm_raw": {
    "mode": "whole_simple",
    "attempts": [
      "Here is the table of contents in the required format:\n\n```\n[\n  {\n    \"title\": \"Once that's done\",\n    \"description\": \"Open Blackbox Explorer. And if you see this page when you open it, then you know that everything's installed correctly.\",\n    \"coverage\": [\n      {\"start_idx\": S00254, \"end_idx\": S00254}\n    ]\n  },\n  {\n    \"title\": \"There is just the hint of an overshoot\",\n    \"description\": \"Notice that we're still hitting motor saturation at the end of the move here.\",\n    \"coverage\": [\n      {\"start_idx\": S00302, \"end_idx\": S00304}\n    ]\n  },\n  {\n    \"title\": \"If you like the work that I'm doing\",\n    \"description\": \"Please consider joining my Patreon. For less than $5 a month, you can get early access to the designs that I'm working on and have an opportunity to give feedback to make them even better.\",\n    \"coverage\": [\n      {\"start_idx\": S00313, \"end_idx\": S00314}\n    ]\n  },\n  {\n    \"title\": \"It's been designed from the ground up\",\n    \"description\": \"To give the absolute best possible vibration and resonance performance. And that's going to allow you to push your filters and PIDs further than ever before.\",\n    \"coverage\": [\n      {\"start_idx\": S00317, \"end_idx\": S00318}\n    ]\n  }\n]\n```",
      "Here is the table of contents in JSON format:\n\n```\n[\n  {\n    \"title\": \"S00254\",\n    \"description\": \"Once that's done, open Blackbox Explorer.\",\n    \"coverage\": [{\"start_idx\": 0, \"end_idx\": 13}]\n  },\n  {\n    \"title\": \"S00255\",\n    \"description\": \"Please consider joining my Patreon.\",\n    \"coverage\": [{\"start_idx\": 14, \"end_idx\": 23}]\n  },\n  {\n    \"title\": \"S00256\",\n    \"description\": \"Make sure you're subscribed so you don't miss those videos when they're ready.\",\n    \"coverage\": [{\"start_idx\": 24, \"end_idx\": 38}]\n  },\n  ...\n]\n```",
      "Here is the high-level table of contents in JSON format:\n\n```\n[\n  {\n    \"title\": \"S00\",\n    \"description\": \"Installing Blackbox Explorer and UAV text Blackbox Explorer trace templates\",\n    \"coverage\": [\n      {\"start_idx\": 0, \"end_idx\": 256}\n    ]\n  },\n  {\n    \"title\": \"Setting up the AOS 5 for filter and PID tuning\",\n    \"description\": \"Introduction to filter and PID tuning on the AOS 5\",\n    \"coverage\": [\n      {\"start_idx\": 257, \"end_idx\": 312}\n    ]\n  },\n  {\n    \"title\": \"Tuning Feedforward\",\n    \"description\": \"Adjusting feedforward values for optimal flight performance\",\n    \"coverage\": [\n      {\"start_idx\": 313, \"end_idx\": 306}\n    ]\n  }\n]\n```"
    ]
  }
}