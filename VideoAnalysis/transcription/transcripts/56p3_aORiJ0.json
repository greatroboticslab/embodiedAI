{"video_id": "56p3_aORiJ0", "url": "https://www.youtube.com/watch?v=56p3_aORiJ0", "title": "56p3_aORiJ0", "category": "Unknown Category", "fps": null, "segments": [{"start": 0.0, "end": 9.64, "text": "so one of the biggest requests that i have had since starting this channel is to do a video"}, {"start": 9.64, "end": 15.84, "text": "kind of overviewing and going into how to choose and select different mosfets there's a ton of"}, {"start": 15.84, "end": 22.52, "text": "good information out there that either are insanely advanced to where you have to do like"}, {"start": 22.52, "end": 29.0, "text": "18 derivations to figure out how to calculate anything with a mosfet there's a ton of articles"}, {"start": 29.0, "end": 37.06, "text": "that say you apply voltage the mosfet turns on calculate power rds on that's it there's not a"}, {"start": 37.06, "end": 42.72, "text": "whole lot of in between kind of going into what are the useful equations to where you can get valid"}, {"start": 42.72, "end": 48.96, "text": "info how to drive them but don't get so down into the weeds to where you're really losing out on"}, {"start": 48.96, "end": 54.620000000000005, "text": "actually how to make something useful and just trying to do all the theoretical side so my goal"}, {"start": 54.62, "end": 61.739999999999995, "text": "with this video and i have a blog post also on this is to kind of go over just enough detail to"}, {"start": 61.739999999999995, "end": 68.78, "text": "where you can do most useful calculations specifically for high power designs i'm going to mention a little"}, {"start": 68.78, "end": 73.8, "text": "bit about higher switching speeds but not a ton because that is where it does get a little more"}, {"start": 73.8, "end": 79.66, "text": "complicated but most people aren't really worried about that unless you're building like a voltage"}, {"start": 79.66, "end": 85.5, "text": "regulator or something like that so i think the best way to start this is just with a simple example"}, {"start": 85.5, "end": 93.34, "text": "of a logic level mosfet circuit so everyone has seen a mosfet circuit like this as a quick overview"}, {"start": 93.34, "end": 102.96, "text": "on mosfets the big difference between them and a bjt or an npm transistor is a mosfet switches on and off"}, {"start": 102.96, "end": 110.16, "text": "based on an applied voltage it doesn't require a continuous current going from the gate to source"}, {"start": 110.16, "end": 116.88, "text": "like it would on a standard transistor it's also important to realize that the gate of a mosfet"}, {"start": 116.88, "end": 123.83999999999999, "text": "essentially acts as a capacitor once the gate is fully charged there's really no current that flows"}, {"start": 123.83999999999999, "end": 129.92, "text": "of course there's always parasitic so there's always some current that flows but it's mostly negligible"}, {"start": 129.92, "end": 135.92, "text": "once the gate is charged then the drain conducts to the source and i'm going to be limiting this"}, {"start": 135.92, "end": 143.51999999999998, "text": "discussion to n-channel mosfets they're way more common and realistically they for high power designs"}, {"start": 143.51999999999998, "end": 149.67999999999998, "text": "that's really all you need this is what is called a logic level mosfet there are two main types of"}, {"start": 149.67999999999998, "end": 158.79999999999998, "text": "mosfets standard or power mosfets and then logic level logic level are a newer type of mosfet and the"}, {"start": 158.8, "end": 168.0, "text": "big difference with them is they require only a up to a five volt voltage applied on its gate with"}, {"start": 168.0, "end": 176.96, "text": "respect to the source so if you look at the gate to source voltage once you get below around 2.1 ish"}, {"start": 176.96, "end": 186.88000000000002, "text": "volts the resistance from the drain to source decreases exponentially the resistance from drain to source"}, {"start": 186.88, "end": 195.6, "text": "is simply what the resistance going across these two terminals are so if you were to essentially get"}, {"start": 195.6, "end": 204.72, "text": "rid of that mosfet and replace it with a resistor right here when the mosfet is fully turned on that"}, {"start": 204.72, "end": 211.35999999999999, "text": "is the resistance that is right there simple as that so this is one of the main specs that governs"}, {"start": 211.36, "end": 218.32000000000002, "text": "how much the mosfet will heat up when you're turning it on so the other thing that this circuit"}, {"start": 218.32000000000002, "end": 224.16000000000003, "text": "has that a lot of people will overlook is this resistor right here this is what's called a gate"}, {"start": 224.16000000000003, "end": 230.88000000000002, "text": "resistor and what you have to remember why those are needed is remember how i said that the gate acts"}, {"start": 230.88000000000002, "end": 238.8, "text": "as a capacitor what happens to a capacitor when it's completely uncharged and you apply a voltage your"}, {"start": 238.8, "end": 247.52, "text": "driving circuit sees that gate sees the capacitor as a short circuit so if this was just a wire the"}, {"start": 247.52, "end": 255.60000000000002, "text": "second you go to switch this on this gate is viewed by this circuit as a short if this microcontroller is"}, {"start": 255.60000000000002, "end": 261.68, "text": "unable to source that much current something bad is going to happen because with no resistance here of"}, {"start": 261.68, "end": 268.32, "text": "course there's parasitics but with no real resistance here powering this from presumably five volts it can"}, {"start": 268.32, "end": 276.88, "text": "try to source several amps going into this gate so a gate resistor acts to limit that so at five volts"}, {"start": 276.88, "end": 283.84, "text": "with a hundred ohm resistor it's going to limit it to what 50 milliamps which any microcontroller should"}, {"start": 283.84, "end": 290.15999999999997, "text": "be able to source if you need to have it a little bit lower you just raise the resistance of this there's"}, {"start": 290.15999999999997, "end": 295.44, "text": "a couple other important reasons why gate resistors are used remember how i mentioned that there's those"}, {"start": 295.44, "end": 302.24, "text": "parasitics so this trace has a certain resistance which you can't really calculate easily there are"}, {"start": 302.24, "end": 311.36, "text": "certain resistances going into the gate those could be tens of ohm tens of milli ohms uh maybe up to half"}, {"start": 311.36, "end": 317.52, "text": "an ohm you don't really know if you don't have this gate resistor and you try to calculate switching"}, {"start": 317.52, "end": 323.84, "text": "speeds you try to calculate anything you really don't have a way to know what this resistance is and you"}, {"start": 323.84, "end": 329.84, "text": "don't have a way to know how much current is being applied the second you add in one of these gate"}, {"start": 329.84, "end": 336.4, "text": "resistors those parasitics become completely overshadowed by this gate resistor it doesn't"}, {"start": 336.4, "end": 343.2, "text": "matter if it's a hundred point zero one ohms or a hundred point one ohms the hundred is way more"}, {"start": 343.2, "end": 352.96, "text": "significant in your calculation and that's even true if this was 10 ohms 10.01 ohms and 10.1 is not that"}, {"start": 352.96, "end": 358.4, "text": "big of a difference for your calculations so it just allows you to have a better reference point"}, {"start": 358.4, "end": 365.12, "text": "to make your calculations from the other reason gate resistors are important and this is a little more"}, {"start": 365.12, "end": 370.96, "text": "intricate so i'm not going to go into it too much basically if you don't have this you can get what's"}, {"start": 370.96, "end": 378.88, "text": "called ringing or oscillation since there's such a high amount of current being sourced so quickly"}, {"start": 378.88, "end": 386.88, "text": "without a gate resistor here the parasitics mainly the inductance has the ability to make this gate"}, {"start": 386.88, "end": 393.76, "text": "oscillate from different voltages and it can keep the mosfet from turning on it can make it to where"}, {"start": 393.76, "end": 399.52, "text": "it's in a state that you don't want it to be or it can over voltage it entirely basically that gate"}, {"start": 399.52, "end": 406.15999999999997, "text": "resistor just acts to kind of dampen all of that and make it a much smoother transition going from off to"}, {"start": 406.16, "end": 411.76000000000005, "text": "on or on to off so something else that's really important with mosfets and i did not draw it in"}, {"start": 411.76000000000005, "end": 417.36, "text": "here i was making sure you guys were paying attention you have to have a pull down resistor"}, {"start": 417.36, "end": 424.88, "text": "or you have to have something that makes this mosfet in a default state so if we add a 10k resistor right"}, {"start": 424.88, "end": 432.48, "text": "here that means no matter what this output is if it's if it's floating or it's open drained if the"}, {"start": 432.48, "end": 438.72, "text": "microcontroller turns on and it's at an unknown state this pull down resistor is going to ensure"}, {"start": 438.72, "end": 446.16, "text": "that the gate is always in a down state to where there's no charge on it typically with high power"}, {"start": 446.16, "end": 451.76, "text": "mosfets you're always going to want the default state to be off so if nothing else is happening with"}, {"start": 451.76, "end": 459.36, "text": "this circuit you can be assured that this will not be conducting and your mosfet will not be turned on"}, {"start": 459.36, "end": 464.72, "text": "so now i'm sure you're thinking oh logic level mosfets are the way to go i don't have to use"}, {"start": 464.72, "end": 473.2, "text": "anything else that would be nice honestly i unless it's for an indicator led or something very low power"}, {"start": 473.2, "end": 480.24, "text": "i virtually never use logic level mosfets there are incredible trade-offs that they made when they"}, {"start": 480.24, "end": 488.8, "text": "designed the mosfet to be a logic level mosfet basically the rds on so the resistance from drain to"}, {"start": 488.8, "end": 495.2, "text": "source the amount of gate charge so the amount of charge that has to be injected into the gate to"}, {"start": 495.2, "end": 501.2, "text": "get it to turn on are almost always going to be significantly higher in a logic level mosfet unless"}, {"start": 501.2, "end": 509.84000000000003, "text": "there's some overwhelming reason why you can't drive it as a normal mosfet is i would never recommend you"}, {"start": 509.84000000000003, "end": 517.28, "text": "use a logic level fet for anything other than very low power non-important drivers this is kind of the"}, {"start": 517.28, "end": 525.68, "text": "standard configuration that i will use for driving a high power mosfet this ncp chip is what's called a"}, {"start": 525.68, "end": 533.52, "text": "gate driver it has one goal in life it turns on and turns off mosfets and it does it very well what's"}, {"start": 533.52, "end": 542.64, "text": "really nice about this is it has a separate h and l output it has the output high which is actually what"}, {"start": 542.64, "end": 551.36, "text": "injects the charge outputs current to turn on the mosfet and then the out l is what drains the gate"}, {"start": 551.36, "end": 557.52, "text": "so removes the charge from it what that allows you to do i don't show it here you can use two different"}, {"start": 557.52, "end": 565.12, "text": "gate resistors to fine tune how quickly the mosfet turns on and how quickly it turns off for this case"}, {"start": 565.12, "end": 570.24, "text": "i don't put it there because for turning on a high power load it doesn't really matter because they're"}, {"start": 570.24, "end": 577.6800000000001, "text": "pretty slow so the mosfet i am using here is one of the go-to power mosfets that i use it has an"}, {"start": 577.6800000000001, "end": 590.24, "text": "incredibly small rds on which compared to the logic level mosfet which was 1.6 ohms this is 1.4 milli-ohms"}, {"start": 590.24, "end": 599.2, "text": "so a substantial decrease in the resistance on it and it also has a pretty small gate charge which i'll talk"}, {"start": 599.2, "end": 604.32, "text": "about in a little bit so now i want to discuss some other important data sheet specs a couple i've"}, {"start": 604.32, "end": 610.4000000000001, "text": "already mentioned a couple i haven't for this i'm going to reference my blog post so let's say we"}, {"start": 610.4000000000001, "end": 616.72, "text": "need to make a h bridge driver i've talked about h bridges in the past it's a way to control like a"}, {"start": 616.72, "end": 623.84, "text": "brushed dc motor or a linear actuator it needs to be able to source 10 amps continuously if there is a"}, {"start": 623.84, "end": 631.9200000000001, "text": "stall condition it needs to be able to handle up to 25 amps it'll be powered by 12 volt dc it'll have"}, {"start": 631.9200000000001, "end": 640.1600000000001, "text": "a silent pwm speed which just means it's not in the audible range so ultrasonic which is 20 to 30 kilohertz"}, {"start": 640.1600000000001, "end": 648.96, "text": "and of course we need to minimize heat dissipation as always if we take this mosfet and this gate driver"}, {"start": 648.96, "end": 656.08, "text": "as our example we can look at the data sheet of this mosfet the important specs that we need to"}, {"start": 656.08, "end": 662.5600000000001, "text": "grab from it are the rds max we don't care about the typical because we need to design for the worst"}, {"start": 662.5600000000001, "end": 668.1600000000001, "text": "case scenario of course we can use that to calculate the amount of power that will be dissipated from the"}, {"start": 668.1600000000001, "end": 676.96, "text": "mosfet the vdss is simply the amount of voltage that this mosfet can have between its drain and its"}, {"start": 676.96, "end": 684.32, "text": "source so between here between this pin and this pin which since we're powering this from 12 volts"}, {"start": 684.32, "end": 690.96, "text": "we're not even close to that the id which is either silicone limited or package limited we always care"}, {"start": 690.96, "end": 698.32, "text": "about the package limited because that is irrelevant because we're using this specific package and this is"}, {"start": 698.32, "end": 706.0, "text": "a spec that's commonly misunderstood this does not mean that you can drive this mosfet at 240 amps if you"}, {"start": 706.0, "end": 712.72, "text": "try doing this at 240 amps without it being like literally underwater or some water cooling system"}, {"start": 712.72, "end": 720.16, "text": "it'll burst into flames almost immediately all this means is you absolutely cannot drive it above that"}, {"start": 720.16, "end": 725.6, "text": "but you're not going to be able to drive it at that so take this number with a complete grain of salt"}, {"start": 725.6, "end": 733.76, "text": "just don't exceed it the next important spec is the vgs which is simply the gate to source voltage"}, {"start": 733.76, "end": 741.6, "text": "so the maximum voltage that you can apply on the gate with respect to the source and this is typically"}, {"start": 741.6, "end": 748.08, "text": "around 20 volts for a standard mosfet which we are driving it from 12 volts so again we're perfectly fine"}, {"start": 748.08, "end": 759.4399999999999, "text": "there then the r theta j a which this is the thermal resistance from the junction of the mosfet to the outside air"}, {"start": 759.44, "end": 766.24, "text": "this we use to determine how hot the mosfet will get at a given power the last important spec and this"}, {"start": 766.24, "end": 773.36, "text": "is the one where it's definitely not a true science what i'm going to show you guys but it's a decent"}, {"start": 773.36, "end": 780.24, "text": "rule of thumb and that is the total gate charge this i briefly mentioned a couple times already in this"}, {"start": 780.24, "end": 788.32, "text": "video and what this is is this is the amount of charge that you have to inject into the gate before"}, {"start": 788.32, "end": 797.12, "text": "it turns fully on since it's a capacitor essentially on the gate you have to give it that much charge"}, {"start": 797.12, "end": 804.72, "text": "in coulombs or nano coulombs to have it turn on this is one of the main factors that governs how fast"}, {"start": 804.72, "end": 811.44, "text": "the mosfet turns on and then by default turns off so let's start doing some calculations and this"}, {"start": 811.44, "end": 817.0400000000001, "text": "obviously isn't the h bridge circuit but i changed the value of the resistor here so it should be"}, {"start": 817.0400000000001, "end": 824.08, "text": "pretty similar so the first thing that we want to work on is determine how much power the mosfet will"}, {"start": 824.08, "end": 831.52, "text": "be dissipating worst case so we use p equals i squared r we know that our max current in a stall which"}, {"start": 831.52, "end": 842.3199999999999, "text": "is the worst case scenario is 25 amps and our worst case resistance is 1.4 and when we calculate that"}, {"start": 842.3199999999999, "end": 852.4, "text": "out we get 0.875 watts but now we have to relate that value to something useful because in a vacuum"}, {"start": 852.4, "end": 858.3199999999999, "text": "under a watt we don't really know if that's a good value or not so that's where that r theta junction to"}, {"start": 858.32, "end": 866.96, "text": "ambient comes in so we know that the theta junction to ambient is 40 c over w which means for every watt"}, {"start": 866.96, "end": 874.8000000000001, "text": "that the mosfet dissipates it will raise in temperature by 40 degrees celsius so if we simply"}, {"start": 874.8000000000001, "end": 883.6800000000001, "text": "multiply that by our power that gives us the delta t we have to make sure that we understand that that is"}, {"start": 883.68, "end": 892.16, "text": "not what temperature it'll be at that's the temperature it'll increase by so that is 35 c so if we are at"}, {"start": 892.16, "end": 903.12, "text": "a room temperature ambient around 25 c it'll raise by 35 c which is 60 degrees celsius which 60 c for the"}, {"start": 903.12, "end": 911.12, "text": "junction temperature is perfectly safe it should be safe depending on the mosfet up to around 100 c if not a"}, {"start": 911.12, "end": 918.32, "text": "little more but i always try to shoot for a maximum of 80 c worst case but you can always reduce that"}, {"start": 918.32, "end": 923.92, "text": "by having a heat sink on there so now we know that the heat dissipation of this mosfet will not be an"}, {"start": 923.92, "end": 931.2, "text": "issue the next thing we want to see is how quickly we can switch it on and off so for that the first thing"}, {"start": 931.2, "end": 939.92, "text": "we need to do is see how much current this driver will be sending to the gate and like i said this gate"}, {"start": 939.92, "end": 947.5999999999999, "text": "driver can source up to an up to 10 amps i have a 10 ohm gate resistor here so we need to calculate"}, {"start": 947.5999999999999, "end": 955.52, "text": "the amount of current maximum that it can inject and that is simply v equals ir our maximum current is"}, {"start": 955.52, "end": 966.9599999999999, "text": "1.2 amps and there is a simplification here this is assuming that the voltage at the gate stays at zero"}, {"start": 966.96, "end": 975.0400000000001, "text": "because we're assuming that the voltage from here minus this is the total voltage which it's not"}, {"start": 975.6, "end": 982.08, "text": "typically this will be a couple volts but that's where my simplifications are coming in so just keep"}, {"start": 982.08, "end": 988.4000000000001, "text": "that in mind if you have to do the exact calculation you're gonna have to do a lot more intricate stuff"}, {"start": 988.4000000000001, "end": 994.88, "text": "than i'm showing here but when we finish this calculation i'll show you why i feel confident for"}, {"start": 994.88, "end": 1001.04, "text": "this case that these calculations hold true and now we can use a different calculation to see how long"}, {"start": 1001.04, "end": 1008.56, "text": "it takes to inject that much charge into the gate of the mosfet and this is just the time equals charge"}, {"start": 1008.56, "end": 1016.48, "text": "divided by current we're trying to solve for time we know that our charge that needs to be injected is"}, {"start": 1016.48, "end": 1029.68, "text": "354 nanocoulombs and we know that our current is 1.2 amps when we calculate that out we get t is equal to 295"}, {"start": 1030.32, "end": 1038.96, "text": "nanoseconds and with this calculation that is how long it will take for this mosfet to turn fully on if we"}, {"start": 1038.96, "end": 1046.0, "text": "need to switch it at a different or a differing frequency it's not just how quickly it turns on it's how"}, {"start": 1046.0, "end": 1054.4, "text": "quickly it turns on then off so technically the round trip is double this and when we do that"}, {"start": 1054.4, "end": 1062.16, "text": "calculation and see the maximum frequency it comes out to around 2 megahertz so we only have to switch"}, {"start": 1062.16, "end": 1071.12, "text": "this at 20 kilohertz we are several orders of magnitude below the theoretical max switching speed"}, {"start": 1071.12, "end": 1078.1599999999999, "text": "of this mosfet this is where the rule of thumb comes into play if we would have calculated this out"}, {"start": 1078.1599999999999, "end": 1086.7199999999998, "text": "and let's say this time would have or this frequency would have came out to 30 kilohertz or 40 we are way"}, {"start": 1086.7199999999998, "end": 1092.6399999999999, "text": "too close to that threshold and i would not feel confident with this at all and we would either need"}, {"start": 1092.64, "end": 1101.1200000000001, "text": "to change the gate resistor to have it be bigger of a gap or do the more intricate derivations which i"}, {"start": 1101.1200000000001, "end": 1107.3600000000001, "text": "mention in the blog some app notes which go into great detail on that but for something like this"}, {"start": 1107.3600000000001, "end": 1113.3600000000001, "text": "this is perfectly fine and i would never go into any more calculations than this because it's just not"}, {"start": 1113.36, "end": 1123.04, "text": "necessary if we do the intricate calculations maybe we get that the actual switching speed maximum is 1.2"}, {"start": 1123.04, "end": 1130.9599999999998, "text": "megahertz or 1.1 it doesn't matter we're still so far below that that it absolutely is fine whatever"}, {"start": 1130.9599999999998, "end": 1138.3999999999999, "text": "this comes out to be and this is where you could actually tune this gate resistor to be a little bit"}, {"start": 1138.4, "end": 1145.3600000000001, "text": "higher of a value making it turn on a little bit slower which can help with some emc and emissions"}, {"start": 1145.3600000000001, "end": 1151.92, "text": "issues but that's something i'm not going to get into on this video so basically with those calculations"}, {"start": 1151.92, "end": 1159.0400000000002, "text": "out of the way we now know that this mosfet driven by this gate driver won't heat up too much it's not"}, {"start": 1159.0400000000002, "end": 1165.76, "text": "going to be even close to the maximum switching speed so we can feel pretty confident that this mosfet will"}, {"start": 1165.76, "end": 1171.92, "text": "be able to drive that load of course there's other stuff to be concerned with with a brushed motor"}, {"start": 1171.92, "end": 1180.24, "text": "driver the back emf having sure making sure you have enough bulk capacitance but on the mosfet side"}, {"start": 1180.24, "end": 1188.72, "text": "we are perfectly fine with this selection so i hope that this video covered everything that you typically"}, {"start": 1188.72, "end": 1195.28, "text": "need to know when selecting a mosfet and designing a circuit for it i will have a link in the description to"}, {"start": 1195.28, "end": 1201.76, "text": "my blog post which goes into a little more detail on this and it gives a few more examples but other"}, {"start": 1201.76, "end": 1208.08, "text": "than that i hope you guys enjoyed this video and please let me know any suggestions of future videos"}, {"start": 1208.08, "end": 1213.76, "text": "and i will see you in the next video"}]}