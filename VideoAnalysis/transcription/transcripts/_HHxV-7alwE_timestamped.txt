_HHxV-7alwE
https://www.youtube.com/watch?v=_HHxV-7alwE
Unknown Category

[00:00:00.000 → 00:00:03.280] Today in the workshop we're working with operational amplifiers.
[00:00:03.840 → 00:00:08.220] You'll see how op amps work and how to use them in several popular configurations.
[00:00:08.820 → 00:00:12.860] We'll also build a light activated switch, a dual power supply,
[00:00:13.100 → 00:00:15.200] and we'll use op amps with an Arduino.
[00:00:15.780 → 00:00:19.380] We're back in operation today, so welcome to the workshop.
[00:00:30.000 → 00:00:33.360] Well, hello and welcome to the workshop,
[00:00:33.660 → 00:00:37.100] and today we're going to be working with operational amplifiers,
[00:00:37.280 → 00:00:39.580] more commonly known as op amps.
[00:00:39.580 → 00:00:45.180] Now, op amps have been available in integrated circuit format for about six decades now,
[00:00:45.280 → 00:00:50.760] and during that time they have been used in thousands and thousands of different analog designs.
[00:00:51.240 → 00:00:55.200] One of the reasons for their popularity is because they are so versatile.
[00:00:55.200 → 00:01:00.140] You can literally configure an op amp in a couple of dozen different ways,
[00:01:00.300 → 00:01:04.680] and each of those configurations can be considered to be an analog building block
[00:01:04.680 → 00:01:07.620] that you can use to build more complex circuitry.
[00:01:08.100 → 00:01:13.380] Op amps can also be used to interface analog electronics to digital electronics.
[00:01:13.960 → 00:01:16.760] Op amps are also extraordinarily inexpensive.
[00:01:17.140 → 00:01:22.800] In fact, one of the op amps we're using today is a quad op amp that costs all of 40 cents,
[00:01:22.800 → 00:01:25.280] so each op amp costs a dime.
[00:01:25.800 → 00:01:28.480] Now, what we are going to do today is we're going to, of course,
[00:01:28.580 → 00:01:30.800] start off by learning a bit about op amps,
[00:01:30.960 → 00:01:33.700] and then we're going to put some of that theory into practice.
[00:01:33.840 → 00:01:36.980] We're going to take an op amp, put it on a sonless breadboard,
[00:01:37.080 → 00:01:39.480] and wire it in a number of different configurations.
[00:01:40.100 → 00:01:44.340] After that, I'm going to show you how we can use an op amp with a microcontroller.
[00:01:44.480 → 00:01:46.960] We're going to connect one to an Arduino Uno.
[00:01:47.540 → 00:01:49.800] After that, we're going to build a little project,
[00:01:49.800 → 00:01:53.160] a light-sensitive switch that is built with an op amp
[00:01:53.160 → 00:01:57.380] and will probably cost you about $2 in components to put together.
[00:01:57.820 → 00:02:01.240] And finally, many op amps need a dual power supply,
[00:02:01.360 → 00:02:04.280] a supply with both a positive and a negative component,
[00:02:04.760 → 00:02:08.820] while most of us have benched supplies that only are single power supplies.
[00:02:09.040 → 00:02:13.340] So we're going to build a converter that converts a single supply to a dual supply,
[00:02:13.540 → 00:02:17.220] and, of course, that converter is going to be built with an op amp.
[00:02:17.220 → 00:02:19.180] I told you these things are versatile.
[00:02:19.720 → 00:02:24.840] So let's start off by learning a bit more about operational amplifiers.
[00:02:25.980 → 00:02:29.880] An op amp is a high-gain differential amplifier.
[00:02:30.480 → 00:02:35.500] It has both a positive or non-inverting and negative or inverting input.
[00:02:36.160 → 00:02:40.520] An op amp amplifies the differences between these two input voltages.
[00:02:40.520 → 00:02:45.520] These devices are characterized by having a very high input impedance
[00:02:45.520 → 00:02:47.860] and a very low output impedance.
[00:02:48.400 → 00:02:52.640] Originally, operational amplifiers were developed for analog computers.
[00:02:53.200 → 00:02:56.700] Analog computers used voltages to represent numbers.
[00:02:57.360 → 00:03:02.120] The first operational amplifier was built with vacuum tubes in 1941.
[00:03:02.120 → 00:03:08.280] The UA702 was the first integrated circuit operational amplifier,
[00:03:08.560 → 00:03:11.020] and it was designed in 1963.
[00:03:12.020 → 00:03:15.260] The schematic symbol for an operational amplifier
[00:03:15.260 → 00:03:18.960] is chosen as a triangle with a number of connections to it.
[00:03:19.300 → 00:03:21.560] On the top, we have the positive power,
[00:03:21.960 → 00:03:23.880] and on the bottom, the negative power.
[00:03:24.400 → 00:03:28.580] Most operational amplifiers require a bipolar power supply
[00:03:28.580 → 00:03:31.280] with both positive and negative components.
[00:03:32.040 → 00:03:34.080] There are two inputs in the op amp,
[00:03:34.440 → 00:03:38.080] an inverting input and the non-inverting input.
[00:03:38.740 → 00:03:40.980] Note that the inverting input on top
[00:03:40.980 → 00:03:43.860] and the non-inverting on the bottom is not a convention,
[00:03:44.380 → 00:03:47.380] and when you see op amps drawn in schematic diagrams,
[00:03:47.780 → 00:03:50.420] you can see it drawn the other way around as well.
[00:03:50.540 → 00:03:52.680] It just depends what looks better on the diagram.
[00:03:53.380 → 00:03:57.040] Finally, the output of the op amp is at the point of the triangle.
[00:03:58.580 → 00:04:01.980] In order to visualize how an operational amplifier works,
[00:04:02.100 → 00:04:03.880] first we need to power it up.
[00:04:04.200 → 00:04:07.260] We will use a bipolar power supply for the op amp
[00:04:07.260 → 00:04:09.940] that has both a positive and a negative component.
[00:04:10.540 → 00:04:13.600] Note that the power supply has a common ground point.
[00:04:13.960 → 00:04:16.240] This ground point is a reference point.
[00:04:16.980 → 00:04:21.500] We'll also connect two input voltages to our operational amplifier,
[00:04:21.900 → 00:04:24.640] V1, which is connected to the inverting input,
[00:04:24.640 → 00:04:28.100] and V2, which is connected to the non-inverting input.
[00:04:28.600 → 00:04:32.140] Again, the two voltages reference the same common ground point.
[00:04:33.100 → 00:04:37.440] If we apply a voltage of 4 volts to V1 and 6 volts to V2,
[00:04:37.540 → 00:04:40.300] that'll create a difference of positive 2 volts.
[00:04:40.720 → 00:04:42.540] Since this is a positive difference,
[00:04:42.680 → 00:04:44.280] our output will be positive,
[00:04:44.640 → 00:04:47.700] and the greater difference, the greater the output will be.
[00:04:47.700 → 00:04:50.620] If we increase V1 to 9 volts,
[00:04:50.820 → 00:04:53.220] then our difference will be negative 3 volts,
[00:04:53.340 → 00:04:55.000] and so our output will go negative.
[00:04:55.540 → 00:04:58.120] Again, the amplitude of the output will depend
[00:04:58.120 → 00:05:00.860] on the amount of difference between the two inputs.
[00:05:01.660 → 00:05:05.760] If we reduce V1 to 6 volts and keep V2 at 6 volts,
[00:05:05.860 → 00:05:08.140] there'll be no difference between the two inputs.
[00:05:08.660 → 00:05:12.560] Therefore, the output of the operational amplifier will be zero.
[00:05:12.560 → 00:05:17.700] By itself, an operational amplifier has a great deal of gain.
[00:05:17.820 → 00:05:21.780] In fact, the typical op amp has a gain of 100,000 times or more.
[00:05:22.260 → 00:05:24.400] Since this is likely too much for our circuit,
[00:05:24.520 → 00:05:25.740] we need to regulate it,
[00:05:25.940 → 00:05:28.040] and we can do that by applying feedback,
[00:05:28.560 → 00:05:30.860] which is to take the output of the op amp
[00:05:30.860 → 00:05:33.060] and apply it to one of its inputs.
[00:05:33.220 → 00:05:36.600] Over here, I show it being applied to the inverting input.
[00:05:36.980 → 00:05:40.840] This will actually create an amplifier whose gain is only one.
[00:05:40.840 → 00:05:44.720] In other words, what goes into the amplifier will be what comes out.
[00:05:45.220 → 00:05:47.740] Since we might want a little bit more gain than that,
[00:05:47.840 → 00:05:51.280] but not the infinite amount of gain that we get with the open loop,
[00:05:51.540 → 00:05:53.720] we can apply a feedback resistor.
[00:05:54.200 → 00:05:57.780] The value of the resistor will determine the gain of the amplifier,
[00:05:58.160 → 00:06:00.000] and the higher the value of the resistor,
[00:06:00.260 → 00:06:02.280] the higher the amplifier's gain will be.
[00:06:03.660 → 00:06:06.640] A common configuration for an operational amplifier
[00:06:06.640 → 00:06:08.740] is as an inverting amplifier.
[00:06:08.740 → 00:06:13.820] An amplifier whose output is 180 degrees out of phase with its input.
[00:06:14.440 → 00:06:18.500] The two components used with the operational amplifier in this configuration
[00:06:18.500 → 00:06:21.560] are the input resistor and the feedback resistor,
[00:06:21.920 → 00:06:25.700] and these two components determine the gain of the inverting amplifier.
[00:06:25.700 → 00:06:31.540] Another common configuration is the non-inverting amplifier,
[00:06:31.540 → 00:06:35.220] an amplifier whose output is in phase with its input.
[00:06:35.780 → 00:06:41.020] Once again, the feedback and divider resistor will determine the gain of this type of amplifier.
[00:06:42.020 → 00:06:46.380] A unity gain buffer is an amplifier that has a gain of 1.
[00:06:46.380 → 00:06:49.220] This is also known as a voltage follower,
[00:06:49.420 → 00:06:52.340] and takes advantage of the fact that the operational amplifier
[00:06:52.340 → 00:06:57.040] has a very high input impedance and very low output impedance.
[00:06:57.500 → 00:07:01.160] Unity gain buffers are often used throughout op-amp circuitry.
[00:07:02.160 → 00:07:08.400] The voltage summing amplifier is an application from the op-amp's analog computer days.
[00:07:08.400 → 00:07:13.660] The op-amp will output a sum of the three different input voltages.
[00:07:14.260 → 00:07:16.860] The feedback can be used to amplify this
[00:07:16.860 → 00:07:20.240] and effectively do a multiplication on the voltage.
[00:07:22.000 → 00:07:25.480] Another mathematical operation that could be done with an op-amp
[00:07:25.480 → 00:07:27.540] is as a differential amplifier.
[00:07:27.540 → 00:07:34.160] In this case, the output of the amplifier will be the difference between V in 1 and V in 2.
[00:07:35.820 → 00:07:41.300] Integration is another mathematical operation that operational amplifiers can perform,
[00:07:41.660 → 00:07:46.440] and when performed upon a square wave, it can turn it into a triangle wave.
[00:07:46.640 → 00:07:49.900] You can also input a triangle wave into an integrator
[00:07:49.900 → 00:07:53.020] and come out with an approximation of a sine wave.
[00:07:53.020 → 00:08:00.460] And the differentiating amplifier performs a differential operation on the voltage coming in.
[00:08:00.740 → 00:08:03.380] You'll notice its effect on a square wave here.
[00:08:04.780 → 00:08:10.420] An open-end comparator is a very common configuration for an operational amplifier.
[00:08:10.860 → 00:08:14.820] A comparator has a reference voltage and an input voltage,
[00:08:14.960 → 00:08:17.900] and if the input voltage exceeds the reference voltage,
[00:08:18.240 → 00:08:21.820] the output voltage will go high, or to positive Vcc.
[00:08:21.820 → 00:08:27.680] If it's below the reference voltage, it'll go low, or down to the ground level.
[00:08:28.200 → 00:08:33.640] Comparators are often used to interface analog electronics to digital electronics.
[00:08:34.820 → 00:08:39.420] A low-pass active filter is a very common application in audio.
[00:08:39.960 → 00:08:44.880] A low-pass filter allows low frequencies to pass while attenuating high frequencies,
[00:08:45.200 → 00:08:47.720] and it can be built as follows with an op-amp.
[00:08:47.720 → 00:08:52.840] A different configuration creates a high-pass active filter,
[00:08:53.100 → 00:08:57.920] a filter that allows higher frequencies to pass, but attenuates lower ones.
[00:08:59.240 → 00:09:05.160] And a multivibrator is a configuration which an operational amplifier can produce a waveform.
[00:09:05.720 → 00:09:12.060] In this diagram, we are producing a square wave whose frequency is determined by the value of Cx and Rx.
[00:09:12.060 → 00:09:18.060] R2 and R1 can be used to determine the duty cycle and the amplitude of our square wave.
[00:09:18.800 → 00:09:23.840] Now, in selecting an operational amplifier, you should go and take a look at the spec sheets,
[00:09:23.940 → 00:09:26.360] as they'll give you all the information you need to know.
[00:09:26.620 → 00:09:29.740] There's quite a bit of info here, and some of it may be confusing,
[00:09:30.000 → 00:09:33.140] so here are some of the key specifications to look out for.
[00:09:33.140 → 00:09:40.840] The open-loop gain of the operational amplifier defines the gain of the op-amp without any feedback.
[00:09:42.120 → 00:09:45.640] Now, an ideal op-amp would have an infinite open-loop gain.
[00:09:46.380 → 00:09:52.140] In the real world, values typically range from 20,000 to 200,000 or even more.
[00:09:52.600 → 00:09:57.300] Now, keep in mind that the maximum output that your operational amplifier can give
[00:09:57.300 → 00:10:01.880] is going to be limited by the power supply voltage and not the gain.
[00:10:01.880 → 00:10:09.780] The input impedance of the op-amp is defined as the ratio of the input voltage to the input current.
[00:10:10.640 → 00:10:13.580] Impedance is a factor that is measured in ohms.
[00:10:14.340 → 00:10:17.980] An ideal op-amp would have an infinite input impedance,
[00:10:18.460 → 00:10:24.020] and real-world values for op-amp input impedance are typically several megohms,
[00:10:24.160 → 00:10:27.540] meaning op-amps won't load down the driving circuitry.
[00:10:27.540 → 00:10:33.020] The output impedance of an op-amp is also an important specification.
[00:10:33.680 → 00:10:36.660] An ideal op-amp would have a zero output impedance.
[00:10:37.400 → 00:10:42.140] In the real world, the values are typically about 100 to 20,000 ohms.
[00:10:42.140 → 00:10:48.280] The gain bandwidth product, or GBP, is a very important specification
[00:10:48.280 → 00:10:51.620] as it refers to the frequency response of your op-amp.
[00:10:52.240 → 00:10:55.520] Now, an ideal op-amp would, of course, have an infinite bandwidth.
[00:10:56.220 → 00:11:00.180] The bandwidth of the op-amp is limited by the gain bandwidth product,
[00:11:00.640 → 00:11:05.340] and this is defined as the bandwidth with an open-loop gain of 1.
[00:11:05.340 → 00:11:12.300] In the real world, op-amps typically have values from 500 kHz to 20 MHz or more.
[00:11:13.660 → 00:11:19.160] The offset voltage is the output voltage when the difference between the inputs is zero.
[00:11:19.860 → 00:11:23.240] An ideal op-amp would have no offset voltage.
[00:11:23.980 → 00:11:28.540] In the real world, the values typically are 1 mV to 10 mV,
[00:11:28.720 → 00:11:31.040] and this is an inaccuracy in the op-amp.
[00:11:31.040 → 00:11:37.600] Some operational amplifiers have an offset pin to allow adjustment of the offset voltage.
[00:11:40.420 → 00:11:45.460] Op-amps are available in several different packages, including dip and surface mount.
[00:11:46.160 → 00:11:50.360] You can get single, dual, or quad op-amps in the same package.
[00:11:51.020 → 00:11:55.800] Op-amps are available using both single and traditional dual power supplies.
[00:11:56.360 → 00:11:59.360] You also might see the term rail-to-rail designs.
[00:11:59.360 → 00:12:03.380] These are op-amps whose output can go all the way to their VCC.
[00:12:04.000 → 00:12:07.320] On most op-amps, the output is slightly less than VCC,
[00:12:07.500 → 00:12:09.820] unless it is specified as being rail-to-rail.
[00:12:10.480 → 00:12:14.020] So now let's take a look at a couple of op-amps and put them to use.
[00:12:14.640 → 00:12:18.060] Now here are a number of op-amps that I got out of my parts drawer,
[00:12:18.460 → 00:12:21.740] and each one of these is unique in its own right.
[00:12:21.880 → 00:12:25.240] Some of them are single op-amps, some are dual, some are quad.
[00:12:25.240 → 00:12:31.060] There are op-amps here that are single supply, and there are dual supply op-amps as well.
[00:12:31.480 → 00:12:35.040] Now all of these are in dip or dual inline packages.
[00:12:35.220 → 00:12:37.400] Of course you can get op-amps in other packages,
[00:12:37.660 → 00:12:40.940] but for experimenting, the dip package is what we will use,
[00:12:41.000 → 00:12:42.960] because they fit into a soddeless breadboard.
[00:12:43.320 → 00:12:45.240] Now I'm sure you've probably worked with them before,
[00:12:45.240 → 00:12:50.060] but if you haven't, on a dip package there is usually a notch over at the front,
[00:12:50.360 → 00:12:53.280] and quite often a dot like you'll see over here,
[00:12:53.440 → 00:12:55.340] and that indicates pin 1.
[00:12:55.500 → 00:12:58.060] So when you're orienting things, that's the way it is.
[00:12:58.580 → 00:13:02.360] And they'll be numbered 1, 2, 3, 4 down this side,
[00:13:02.520 → 00:13:06.460] and then they'll go 5, 6, 7, 8 up on the other side.
[00:13:06.540 → 00:13:11.700] And of course for a 14 or a 16-pin package, the number follows accordingly.
[00:13:11.700 → 00:13:17.540] And so let's take a look at the characteristics of some of these operational amplifiers.
[00:13:19.000 → 00:13:23.940] The LM324 is a very popular quad operational amplifier.
[00:13:24.500 → 00:13:29.500] This device uses a single supply and can handle 32 volts maximum VCC.
[00:13:30.060 → 00:13:35.760] The LM324 is used in a lot of equipment, especially because of its low, low price.
[00:13:36.140 → 00:13:39.920] Currently this retails on DigiKey for 40 cents per unit,
[00:13:39.920 → 00:13:42.740] and so when you consider you get 4 op amps in it,
[00:13:42.980 → 00:13:45.560] they work out to about a dime per op amp.
[00:13:47.880 → 00:13:53.080] The NE5532 is another very popular operational amplifier.
[00:13:53.720 → 00:13:57.520] This is a dual op amp, and it uses a dual power supply.
[00:13:57.860 → 00:14:01.220] Each power supply can have a maximum of 15 volts.
[00:14:01.800 → 00:14:06.660] This is a high performance operational amplifier with very low noise and distortion,
[00:14:06.660 → 00:14:09.840] so it can be used in audio equipment designs.
[00:14:11.840 → 00:14:16.200] Another popular operational amplifier is the LM358.
[00:14:16.460 → 00:14:22.580] It's also a dual op amp, and has essentially the same pinout as the NE5532.
[00:14:23.060 → 00:14:27.820] However, the LM358 has been wired to use a single power supply.
[00:14:27.820 → 00:14:31.360] This is a very common operational amplifier,
[00:14:31.360 → 00:14:35.160] and as its power supply can range from 3 to 32 volts DC,
[00:14:35.500 → 00:14:39.580] it can also be used to interface analog and digital circuitry.
[00:14:41.260 → 00:14:47.180] The TL072 is a dual operational amplifier that uses dual power supplies.
[00:14:47.180 → 00:14:51.420] This is a very popular audio amplifier for audio designs,
[00:14:51.560 → 00:14:55.700] as it has a very high GBP, and a very high slew rate,
[00:14:55.940 → 00:14:58.640] and very, very low noise and distortion.
[00:15:00.700 → 00:15:07.020] The CA3140 is a single operational amplifier that uses a dual power supply,
[00:15:07.240 → 00:15:11.120] and has a maximum GBP of 4.5 MHz.
[00:15:11.120 → 00:15:18.200] The CA3240 is the same operational amplifier in a dual op amp pack.
[00:15:19.160 → 00:15:23.160] These op amps are often used in automotive and industrial designs,
[00:15:23.260 → 00:15:26.420] as they incorporate both MOS and bipolar transistors
[00:15:26.420 → 00:15:28.860] for a very high input impedance,
[00:15:29.220 → 00:15:31.800] and a very high current output capability.
[00:15:33.080 → 00:15:38.200] The MCP6002 is a dual operational amplifier
[00:15:38.200 → 00:15:40.620] that uses a single power supply,
[00:15:40.620 → 00:15:44.900] and that power supply has a maximum of only 6 volts.
[00:15:45.180 → 00:15:47.520] It has a 1 MHz GBP.
[00:15:48.660 → 00:15:55.020] The MCP6022 is the same operational amplifier with a much higher GBP.
[00:15:55.920 → 00:15:59.280] Because of the voltages these operational amplifiers use,
[00:15:59.360 → 00:16:02.060] they have been designed to be used with logic circuits,
[00:16:02.160 → 00:16:05.680] as they're perfect for both 3.3 and 5 volt logic.
[00:16:06.100 → 00:16:09.160] They also use rail-to-rail input-to-output,
[00:16:09.160 → 00:16:12.640] so they can swing all the way up to their power supply voltage.
[00:16:12.940 → 00:16:15.040] They're very low noise and distortion,
[00:16:15.420 → 00:16:17.400] and they consume very little current.
[00:16:18.340 → 00:16:20.460] Okay, enough of the op amp theory.
[00:16:20.560 → 00:16:22.200] Let's put some of it into practice.
[00:16:22.440 → 00:16:25.840] We're going to take an op amp and put it onto a SOTELIS breadboard,
[00:16:26.160 → 00:16:28.980] and wire it in a number of different configurations,
[00:16:28.980 → 00:16:32.200] so we can see how these building blocks are really created.
[00:16:32.760 → 00:16:36.400] Now, the op amp we're going to be using is the NE5532,
[00:16:36.700 → 00:16:39.360] which is a very common operational amplifier.
[00:16:39.800 → 00:16:42.840] It requires a dual power supply, but don't worry about it.
[00:16:42.840 → 00:16:46.120] You can just use a couple of 9 volt batteries for these experiments.
[00:16:46.120 → 00:16:50.340] So let's see how the NE5532 is wired up,
[00:16:50.540 → 00:16:54.280] and then we'll proceed to use it in a number of basic configurations.
[00:16:55.640 → 00:17:01.580] I'll be basing all of my experiments around an NE5532 operational amplifier.
[00:17:01.580 → 00:17:05.460] This is a very inexpensive and easy to obtain device.
[00:17:05.740 → 00:17:07.380] This is a dual op amp,
[00:17:07.500 → 00:17:11.740] and it contains two operational amplifiers that are wired as follows.
[00:17:12.440 → 00:17:17.440] Pin 3 of the device is connected to the non-inverting input on amplifier 1.
[00:17:17.980 → 00:17:21.780] Pin 2 is connected to the inverting input on that amplifier,
[00:17:22.460 → 00:17:26.340] and pin 1 is connected to the output of op amp 1.
[00:17:26.340 → 00:17:31.780] Pin 5 is connected to the non-inverting input of amplifier 2.
[00:17:32.460 → 00:17:34.720] Pin 6 is its inverting input,
[00:17:35.160 → 00:17:38.300] and pin 7 is the output of op amp 2.
[00:17:39.040 → 00:17:43.000] The positive end of the power supply is connected to pin 8,
[00:17:43.380 → 00:17:45.640] and the negative end to pin 4.
[00:17:46.060 → 00:17:49.100] Note that there is no connection on the op amp for ground.
[00:17:50.120 → 00:17:56.200] The positive and negative power supply for NE5532 can be up to 15 volts,
[00:17:56.340 → 00:18:02.360] and a very convenient way of powering these for our experiments is just to use two 9-volt batteries.
[00:18:03.320 → 00:18:08.680] Connect the positive side of one of the 9-volt batteries to pin 8, which is the positive VCC,
[00:18:09.220 → 00:18:13.800] and connect the negative side to pin 4, which is the negative VCC.
[00:18:14.980 → 00:18:20.140] The remaining two battery terminals are tied together, and this is our ground point.
[00:18:20.520 → 00:18:24.260] Again, there is no ground connection to the NE5532.
[00:18:24.260 → 00:18:30.840] We will be using this basic circuit with all of the different configurations that I am about to show you.
[00:18:32.400 → 00:18:40.140] Now the first configuration that we will examine with the NE5532 is obviously the simplest configuration there is,
[00:18:40.400 → 00:18:42.320] and that is the unity gain buffer.
[00:18:42.780 → 00:18:48.580] You will notice that in this configuration the output of the op amp is fed back into its inverting input,
[00:18:48.580 → 00:18:53.120] and that the input to the op amp is fed into the non-inverting input.
[00:18:53.740 → 00:18:56.780] Wired like this, the op amp will have a gain of 1,
[00:18:56.900 → 00:18:59.880] so what goes in is exactly what will go out.
[00:19:00.140 → 00:19:04.160] And you might think that this is a pretty useless circuit, but it actually is not.
[00:19:04.700 → 00:19:08.420] The unity gain buffer is also called a voltage follower,
[00:19:08.420 → 00:19:14.680] and it can be used to take advantage of the fact that the op amp has a very high input impedance,
[00:19:14.680 → 00:19:16.840] and a low output impedance.
[00:19:17.240 → 00:19:19.760] If you want to mix several signals together,
[00:19:19.920 → 00:19:22.840] you can proceed each one of these with a unity gain buffer,
[00:19:23.180 → 00:19:25.400] as though not to overload an input.
[00:19:26.060 → 00:19:31.200] The unity gain buffer is a circuit that you will see used quite often in op amp designs.
[00:19:31.200 → 00:19:35.860] And so here we have our first experiment, the voltage follower,
[00:19:36.280 → 00:19:39.380] and of course the very simple circuit that it is.
[00:19:39.740 → 00:19:42.060] You can take a look at how I've got it on the breadboard.
[00:19:42.380 → 00:19:45.560] I've got my two batteries each going to the different rails,
[00:19:45.560 → 00:19:48.700] and I've also got a jumper over here,
[00:19:48.800 → 00:19:54.420] and that connects the negative of the positive supply to the positive of the negative supply,
[00:19:54.520 → 00:19:55.720] if that makes sense to you.
[00:19:55.960 → 00:19:57.460] And that is the common ground.
[00:19:57.460 → 00:20:01.120] So just make certain that you realize that on the bottom over here,
[00:20:01.220 → 00:20:05.360] the red is actually a ground, and the blue is the negative voltage.
[00:20:05.820 → 00:20:09.580] Otherwise, it's a very simple circuit, just wired up with a few jumpers.
[00:20:09.920 → 00:20:13.280] When you're working with analog electronics on a soddeless breadboard,
[00:20:13.400 → 00:20:17.660] you will find out that the breadboard does pick up a little bit of noise, etc.
[00:20:17.880 → 00:20:20.600] Now these breadboards I have on the bottom of them,
[00:20:20.680 → 00:20:24.500] they have a little aluminum plate that's supposed to help shield them,
[00:20:24.500 → 00:20:28.740] but since it isn't grounded, I don't know if it's working or if it's even adding to the problem.
[00:20:29.460 → 00:20:32.300] But you try to keep all your leads as short as you can.
[00:20:32.400 → 00:20:34.260] If you're using resistors and capacitors,
[00:20:34.400 → 00:20:37.660] try to use those to make the connections without any additional jumpers,
[00:20:38.000 → 00:20:39.620] just so you get a more stable circuit.
[00:20:39.760 → 00:20:41.580] So if you take a look on the oscilloscope,
[00:20:41.820 → 00:20:43.840] you'll see what we've got are two sine waves.
[00:20:43.980 → 00:20:45.980] The yellow one on the top is the input,
[00:20:46.340 → 00:20:48.460] and the blue one on the bottom is the output.
[00:20:48.640 → 00:20:50.280] And of course, they're exactly the same,
[00:20:50.560 → 00:20:53.380] and that's what you would expect with a voltage buffer.
[00:20:53.380 → 00:20:56.940] It just has a gain of one, so what goes in is what comes out.
[00:20:57.440 → 00:21:02.500] And of course, the high impedance input can be used to buffer sections within your design.
[00:21:04.020 → 00:21:08.040] Probably the most common configuration that you'll see an op amp used in
[00:21:08.040 → 00:21:09.580] is as an inverting amplifier.
[00:21:10.020 → 00:21:13.480] You'll see this used throughout audio equipment designs, for example.
[00:21:13.940 → 00:21:19.040] Now this is how we're going to wire our NE5532 up as an inverting amplifier,
[00:21:19.040 → 00:21:21.440] and we'll need two additional components.
[00:21:21.900 → 00:21:24.520] An input resistor that's labeled as Rn,
[00:21:24.880 → 00:21:27.900] and a feedback resistor that's labeled as Rf.
[00:21:27.980 → 00:21:31.400] And both of these resistors in our case are going to be 1k.
[00:21:31.960 → 00:21:35.280] Now you can see from the formula here that the gain of the amplifier
[00:21:35.280 → 00:21:38.160] depends upon the ratio of these two resistors.
[00:21:38.520 → 00:21:40.460] So with each of them being the same value,
[00:21:40.600 → 00:21:42.720] our amplifier will have a gain of one.
[00:21:42.720 → 00:21:45.480] If you want to change the gain of the amplifier,
[00:21:45.720 → 00:21:48.720] you can do so by altering the values of the resistors.
[00:21:49.100 → 00:21:52.420] And it is common to leave the value of Rn in place
[00:21:52.420 → 00:21:56.020] and change the value of the feedback resistor, Rf.
[00:21:56.220 → 00:22:00.820] If you wish, you could use a potentiometer for Rf instead of a fixed resistor,
[00:22:01.080 → 00:22:03.460] so you could have a variable gain amplifier.
[00:22:03.740 → 00:22:05.960] So let's wire this up and test it out.
[00:22:06.760 → 00:22:09.220] Now here's the demo of our inverting amplifier.
[00:22:09.220 → 00:22:11.940] I'm applying a 1kHz sine wave,
[00:22:12.420 → 00:22:16.120] and that is the yellow one that you see over here on my A channel.
[00:22:16.620 → 00:22:19.040] And the output channel is this one over here.
[00:22:19.400 → 00:22:23.540] And as we can see, the output has been inverted 180 degrees,
[00:22:23.700 → 00:22:25.140] thus an inverting amplifier.
[00:22:25.460 → 00:22:27.120] But otherwise, it looks very good.
[00:22:27.180 → 00:22:28.820] It's a very nice sine wave.
[00:22:29.260 → 00:22:33.680] And again, this is one of the most popular configurations of an amplifier
[00:22:33.680 → 00:22:36.140] that you can have using an op-amp.
[00:22:36.140 → 00:22:42.400] Now the opposite of the inverting amplifier would of course be the non-inverting amplifier,
[00:22:42.600 → 00:22:45.700] an amplifier whose output is in phase with its input.
[00:22:46.180 → 00:22:51.200] And this is how we would wire up our NE5532 as a non-inverting amplifier.
[00:22:51.660 → 00:22:54.020] Note that we're using the same two components,
[00:22:54.180 → 00:22:57.180] the same resistors as we did with the inverting amplifier,
[00:22:57.540 → 00:23:02.620] and that once again, the gain is dependent upon the ratio of the values of these resistors.
[00:23:02.620 → 00:23:07.420] As with the previous design, you could change the feedback resistor if you wish
[00:23:07.420 → 00:23:09.220] to change the gain of the amplifier,
[00:23:09.620 → 00:23:13.380] or you could use a potentiometer to build a variable gain amplifier.
[00:23:14.000 → 00:23:18.940] I should point out that the formulas I'm giving you for gain are actually approximations
[00:23:18.940 → 00:23:21.580] because true formulas for amplifier gain
[00:23:21.580 → 00:23:25.780] need to include the impedance of both the input and output devices.
[00:23:26.200 → 00:23:29.100] But for most cases, these formulas should work fine
[00:23:29.100 → 00:23:31.500] for you to calculate the gain of your op-amps.
[00:23:31.500 → 00:23:35.200] So let's wire up our non-inverting amplifier and test it out.
[00:23:35.900 → 00:23:39.360] And so now we have our non-inverting amplifier demonstration,
[00:23:39.560 → 00:23:42.720] and as you can see, it's pretty well the same as the inverting amplifier,
[00:23:42.980 → 00:23:44.400] with one obvious difference.
[00:23:44.520 → 00:23:49.000] The output signal here is in phase with the input signal,
[00:23:49.120 → 00:23:50.600] so it has not been inverted.
[00:23:51.020 → 00:23:54.300] And between inverting and non-inverting amplifiers,
[00:23:54.580 → 00:23:58.940] you can pretty well control the phase of the signal throughout your design,
[00:23:58.940 → 00:24:01.980] and it's not uncommon to use a combination of both of these
[00:24:01.980 → 00:24:05.920] in an audio design or in other op-amp circuitry.
[00:24:07.240 → 00:24:09.240] Now the next circuit that we're going to look at
[00:24:09.240 → 00:24:11.880] is also a very commonly used audio circuit,
[00:24:12.060 → 00:24:14.080] and that's the low-pass active filter.
[00:24:14.260 → 00:24:17.240] This is a filter that will allow low frequencies to pass
[00:24:17.240 → 00:24:19.360] while attenuating the higher frequencies.
[00:24:19.900 → 00:24:21.920] And this one is a very simple filter
[00:24:21.920 → 00:24:25.020] that attenuates at a rate of 3 decibels per octave.
[00:24:25.020 → 00:24:28.460] We can calculate the frequency that it operates as
[00:24:28.460 → 00:24:30.500] by using the formula in the corner,
[00:24:30.920 → 00:24:33.240] and you'll see that with the values that we have here,
[00:24:33.420 → 00:24:36.680] it'll cut off at about 1592 hertz.
[00:24:37.200 → 00:24:39.260] Now you can change the frequency, of course,
[00:24:39.340 → 00:24:42.200] by changing the value of both the resistor and capacitor,
[00:24:42.440 → 00:24:46.340] and in practice it's easier to change the capacitor to a fixed value,
[00:24:46.540 → 00:24:48.980] and then trim the value of the resistor.
[00:24:49.320 → 00:24:51.480] So let's wire this one up on the breadboard,
[00:24:51.660 → 00:24:52.600] and check it out.
[00:24:52.600 → 00:24:56.400] And so here's our low-pass filter demonstration
[00:24:56.400 → 00:25:00.420] hooked up and visualized on the oscilloscope once again.
[00:25:00.920 → 00:25:04.860] Now a low-pass filter, of course, will attenuate higher frequencies.
[00:25:05.120 → 00:25:09.100] So right now we have a 1 kilohertz sine wave being fed into it.
[00:25:09.260 → 00:25:12.020] The top waveform, the yellow one, is the input,
[00:25:12.260 → 00:25:14.660] and the blue one at the bottom is the output.
[00:25:14.880 → 00:25:17.000] So let's increase the frequency up a little bit.
[00:25:18.000 → 00:25:19.200] And we'll go to 2 kilohertz,
[00:25:19.300 → 00:25:21.600] and you'll notice the bottom has started to attenuate.
[00:25:21.600 → 00:25:23.900] And as I go higher in frequency,
[00:25:25.060 → 00:25:28.780] the top stays the same, but the bottom goes down.
[00:25:29.580 → 00:25:32.120] And so now we're at 10 kilohertz over here,
[00:25:32.180 → 00:25:36.040] and you can see it's quite a bit less than if I back off to 1 kilohertz.
[00:25:36.380 → 00:25:37.920] And so our filter is working.
[00:25:38.060 → 00:25:42.260] Now a simple filter like this only attenuates at about 3 decibels per octave,
[00:25:42.260 → 00:25:48.280] but you can build more advanced filters that can attenuate at a higher rate or a sharper rate
[00:25:48.280 → 00:25:51.880] using the same basic circuitry that we just used over here.
[00:25:51.880 → 00:25:57.340] Now if we exchange the position of the capacitor and the resistor in our filter,
[00:25:57.340 → 00:26:00.080] we can turn it into a high-pass active filter,
[00:26:00.400 → 00:26:05.200] a filter that allows higher frequencies to pass while attenuating lower frequencies.
[00:26:05.700 → 00:26:09.060] Once again, the formula for the filter is essentially the same,
[00:26:09.400 → 00:26:12.480] and ours has a crossover of 1592 hertz.
[00:26:12.480 → 00:26:17.440] Now high-pass and low-pass filters can be used to build things like tone controls,
[00:26:17.900 → 00:26:22.460] equalizers, crossover networks, and to eliminate noise and circuits.
[00:26:22.460 → 00:26:25.880] So they're very useful things to be able to know how to construct.
[00:26:26.240 → 00:26:29.540] So let's wire this one up on our breadboard and check it out.
[00:26:29.540 → 00:26:33.360] And here's the demonstration of the high-pass filter,
[00:26:33.520 → 00:26:36.580] which of course has the opposite effect of the low-pass filter.
[00:26:37.020 → 00:26:40.920] The higher the frequency is, the more of it it will permit through,
[00:26:41.000 → 00:26:43.000] and low frequencies will be attenuated.
[00:26:43.520 → 00:26:47.400] Now once again for the demo, the input waveform is the top one,
[00:26:47.480 → 00:26:49.980] and the bottom one, the blue one, is the output.
[00:26:50.560 → 00:26:52.880] And we're at 500 hertz right now.
[00:26:52.940 → 00:26:56.360] We're going to go up in increments of 100 hertz this time so that you can see it.
[00:26:56.360 → 00:27:00.820] And take a look at the level on the bottom as I increase the frequency.
[00:27:01.400 → 00:27:03.880] So I'm going up in frequency now.
[00:27:05.880 → 00:27:10.820] And as you can see, the level is increasing the higher I go in frequency.
[00:27:11.400 → 00:27:14.640] And now I'm at 5 kilohertz, and the level is quite a bit higher.
[00:27:14.740 → 00:27:17.820] I'll go back down so you can watch the effect in reverse.
[00:27:19.400 → 00:27:23.480] And so a high-pass filter basically just lets high frequencies through
[00:27:23.480 → 00:27:25.000] and attenuates the lower one.
[00:27:25.000 → 00:27:28.860] And again, this is a very simple filter, 3 decibels per octave,
[00:27:29.100 → 00:27:31.900] but you can cascade these to get a sharper filter.
[00:27:33.400 → 00:27:35.500] Now in our final basic experiment,
[00:27:35.760 → 00:27:39.540] we're going to use both of the op-amps in the NE5532.
[00:27:39.940 → 00:27:43.300] And we're going to wire the first one as a multivibrator
[00:27:43.300 → 00:27:45.140] that will produce a square wave.
[00:27:45.420 → 00:27:48.480] The frequency of our square wave is going to be determined
[00:27:48.480 → 00:27:51.980] by capacitors CF and resistor RF.
[00:27:51.980 → 00:27:55.180] And so you could use a potentiometer for RF
[00:27:55.180 → 00:27:57.980] if you want to make a variable frequency oscillator.
[00:27:58.580 → 00:28:03.240] Resistors R2 and R1 will determine both the pulse width
[00:28:03.240 → 00:28:05.800] and the amplitude of our square wave.
[00:28:05.800 → 00:28:10.680] We're going to take the second op-amp in the NE5532
[00:28:10.680 → 00:28:13.320] and wire it up as an integrator.
[00:28:13.500 → 00:28:18.880] As you recall, an integrator performs a mathematical integration on a waveform.
[00:28:19.660 → 00:28:22.900] We'll be using the value of 10k for R3,
[00:28:23.500 → 00:28:25.280] 100k for R1,
[00:28:25.460 → 00:28:28.340] and C1 will be using 100 nanofarads.
[00:28:28.740 → 00:28:30.060] Connect everything up
[00:28:30.060 → 00:28:34.100] and connect it to the square wave oscillator that we created earlier.
[00:28:34.420 → 00:28:36.860] We can then monitor both the square wave
[00:28:36.860 → 00:28:38.640] and the output of the integrator,
[00:28:38.780 → 00:28:40.580] which should be a triangle wave.
[00:28:41.460 → 00:28:44.660] And here's a quick demonstration of our waveform generator.
[00:28:44.940 → 00:28:48.420] And as you can see, the top waveform is the square wave
[00:28:48.420 → 00:28:50.560] and the bottom one is the triangle wave.
[00:28:50.660 → 00:28:52.780] The square is tilted a little bit at the top,
[00:28:52.920 → 00:28:55.980] but the triangle wave is just about perfect.
[00:28:56.100 → 00:28:57.620] And actually the tilting on the square
[00:28:57.620 → 00:29:02.380] could probably be fixed just by adjusting the capacitance on my scope probe.
[00:29:02.500 → 00:29:04.260] That may not be exactly accurate.
[00:29:04.840 → 00:29:07.440] And so it works very well as a generator.
[00:29:07.620 → 00:29:10.820] It's generating a frequency now of 1.88 kHz,
[00:29:10.940 → 00:29:12.640] but of course you could alter that frequency
[00:29:12.640 → 00:29:16.060] by changing the resistor and capacitor values.
[00:29:16.400 → 00:29:18.160] So if you need to generate a waveform,
[00:29:18.560 → 00:29:21.720] an operational amplifier is actually a great way to do it.
[00:29:22.400 → 00:29:24.340] Now although they are analog circuits,
[00:29:24.340 → 00:29:28.260] its operational amplifiers can also be used to glue together
[00:29:28.260 → 00:29:30.260] analog and digital circuitry.
[00:29:30.360 → 00:29:32.740] And there's a couple of methods they can use to do this.
[00:29:33.040 → 00:29:37.300] One method that we've used before is to run an op amp as a comparator
[00:29:37.300 → 00:29:42.280] and use the comparator with a digital input pin on a microcontroller.
[00:29:42.620 → 00:29:46.360] Another thing you can do with an op amp is to use it as an amplifier
[00:29:46.360 → 00:29:49.940] to amplify the signal for the analog to digital converter.
[00:29:49.940 → 00:29:51.820] And that's what we're going to do right now.
[00:29:51.960 → 00:29:56.340] We're going to take an op amp and use it to amplify a very small signal
[00:29:56.340 → 00:30:00.100] and read it with the A to D converter on an Arduino Uno.
[00:30:00.300 → 00:30:03.640] So let's go and see how we hook that up and then we'll put it to use.
[00:30:04.620 → 00:30:06.820] Now here's the circuit that we're going to be using
[00:30:06.820 → 00:30:09.280] to amplify the signal for our Arduino.
[00:30:09.580 → 00:30:14.780] And we're building our amplifier around an MCP6002 op amp.
[00:30:15.120 → 00:30:17.080] This op amp is an excellent choice
[00:30:17.080 → 00:30:21.800] when you're working with digital circuitry as it is a single supply op amp
[00:30:21.800 → 00:30:25.260] and it has a maximum supply voltage of only 6 volts.
[00:30:25.460 → 00:30:29.420] It works perfectly with 3.3 and 5 volt logic.
[00:30:29.600 → 00:30:33.080] So again, it's ideal for working with digital circuitry.
[00:30:33.420 → 00:30:37.340] Now what we have here is essentially a classic amplifier design.
[00:30:37.560 → 00:30:40.880] You can see the feedback loop in the light blue up there.
[00:30:40.880 → 00:30:44.080] The capacitor across the resistor is just for stability
[00:30:44.080 → 00:30:46.420] and to prevent it from going into oscillation.
[00:30:46.420 → 00:30:51.480] The 100k pot you can use to control the gain of the amplifier.
[00:30:51.940 → 00:30:54.120] And the output of the amplifier you'll also notice
[00:30:54.120 → 00:30:59.660] is a 220 pF capacitor across it just for a little bit of noise reduction.
[00:31:00.220 → 00:31:02.980] Now the input has a 100 nF capacitor.
[00:31:03.760 → 00:31:06.000] You can see it on the yellow on the left side.
[00:31:06.380 → 00:31:09.400] If you were going to be amplifying DC voltages,
[00:31:09.400 → 00:31:12.600] you can eliminate the capacitor and just connect them directly.
[00:31:12.600 → 00:31:15.980] But I've got this set up so that you could use audio voltages
[00:31:15.980 → 00:31:19.760] from something like, let's say, a microphone for example.
[00:31:20.400 → 00:31:22.920] Otherwise, it's a fairly basic circuit.
[00:31:23.380 → 00:31:25.900] Note the 2.2 microfarad capacitor
[00:31:25.900 → 00:31:29.460] that sits across the 5 volt and ground line.
[00:31:29.840 → 00:31:35.020] You want to get that capacitor as close as you possibly can physically to the chip.
[00:31:35.020 → 00:31:38.560] Ideally, you'll straddle the chip with that capacitor.
[00:31:38.560 → 00:31:40.080] And the function of that capacitor
[00:31:40.080 → 00:31:43.300] is to take some of the noise that might be on the line.
[00:31:43.480 → 00:31:45.860] Remember, you're sharing 5 volts with an Arduino.
[00:31:46.420 → 00:31:48.320] And microcontrollers and their peripherals
[00:31:48.320 → 00:31:50.420] can sometimes put noise onto the line.
[00:31:50.940 → 00:31:53.800] Now after you've got this all wired up in the breadboard,
[00:31:53.900 → 00:31:56.120] you'll need to hook it up, of course, to the Arduino.
[00:31:56.300 → 00:31:57.700] And the hookup is very simple.
[00:31:57.700 → 00:32:00.640] The power supply for the circuit, the 5 volts,
[00:32:00.720 → 00:32:03.140] will connect to the Arduino's 5 volts.
[00:32:03.720 → 00:32:07.120] The ground will, of course, connect to the Arduino's ground.
[00:32:07.520 → 00:32:11.720] And we're going to feed the output into analog input A0.
[00:32:12.280 → 00:32:14.300] And so once you've got that wired up,
[00:32:14.480 → 00:32:18.560] you can feed a signal into it and run a bit of code
[00:32:18.560 → 00:32:19.860] and look at it with the Arduino.
[00:32:20.060 → 00:32:21.380] So let's go and do that right now.
[00:32:21.380 → 00:32:25.640] Okay, here's our demonstration of the Arduino
[00:32:25.640 → 00:32:27.680] with the op-amp amplifier.
[00:32:27.960 → 00:32:30.420] And you'll notice I've also added a signal generator
[00:32:30.420 → 00:32:32.720] and an oscilloscope to the mix right now.
[00:32:32.940 → 00:32:35.860] Now the signal generator is currently giving out
[00:32:35.860 → 00:32:39.800] a 2 kilohertz sine wave at half a volt.
[00:32:40.020 → 00:32:42.640] And it's being amplified by the amplifier.
[00:32:43.160 → 00:32:45.600] What I've got the scope set to here right now
[00:32:45.600 → 00:32:47.400] is one volt per division.
[00:32:47.840 → 00:32:50.600] And so I've got just about a full output over here.
[00:32:50.600 → 00:32:53.040] It's amplifying just about 10 times.
[00:32:53.420 → 00:32:57.300] Now I'm going to reduce the level of the input over here.
[00:32:58.140 → 00:33:00.180] And now we're at 0.1 of a volt.
[00:33:00.300 → 00:33:04.180] And we've still got about a 1 volt sine wave over here.
[00:33:04.240 → 00:33:06.660] I'm just going to play with the gain control a bit
[00:33:06.660 → 00:33:08.720] just to see the effect that has.
[00:33:09.460 → 00:33:12.180] And over here, I can get it so high,
[00:33:12.240 → 00:33:14.960] I can clip it right now, if you can see that.
[00:33:15.260 → 00:33:16.880] And I can also adjust it down.
[00:33:16.960 → 00:33:19.460] So I've got a lot of gain over here,
[00:33:19.460 → 00:33:20.780] a lot of potential gain.
[00:33:20.860 → 00:33:24.580] This is a 0.1 volt signal that I'm getting in here.
[00:33:24.740 → 00:33:28.320] And I'm amplifying it almost to the full voltage right now.
[00:33:28.460 → 00:33:31.180] Now if we take a look at the Arduino side of things,
[00:33:31.280 → 00:33:32.920] the sketch is very, very simple.
[00:33:33.120 → 00:33:35.480] We start off by defining the pin that we're using,
[00:33:35.560 → 00:33:36.780] analog pin A0,
[00:33:36.980 → 00:33:39.980] and a variable just to hold the value of that.
[00:33:40.240 → 00:33:42.980] In the setup, we'll set up the serial monitor.
[00:33:43.160 → 00:33:44.000] That's all we do.
[00:33:44.000 → 00:33:45.120] And then in the loop,
[00:33:45.220 → 00:33:47.640] we're just going to do an analog read to that pin,
[00:33:47.740 → 00:33:49.440] assign the value to that variable.
[00:33:49.840 → 00:33:52.460] And then we're going to do a serial print lin
[00:33:52.460 → 00:33:55.080] of that variable to the display.
[00:33:55.320 → 00:33:58.200] And then we're going to delay for 50 milliseconds
[00:33:58.200 → 00:34:00.040] and do the whole thing over and over again.
[00:34:00.300 → 00:34:03.500] And actually, it looks better running on the plotter,
[00:34:03.580 → 00:34:04.940] which is what I really wrote it for.
[00:34:05.060 → 00:34:06.600] So let's put the plotter on.
[00:34:06.600 → 00:34:08.460] And as you can see on the plotter,
[00:34:08.520 → 00:34:12.540] you can see we do have a representation of our sine wave.
[00:34:12.740 → 00:34:14.660] And the level is much, much higher
[00:34:14.660 → 00:34:18.200] than you would expect from a 0.1 of a volt signal.
[00:34:18.440 → 00:34:21.420] So this is a really great way of amplifying
[00:34:21.420 → 00:34:24.040] and extending the analog to digital converter,
[00:34:24.380 → 00:34:26.260] not just in an Arduino Uno,
[00:34:26.500 → 00:34:28.000] but on any microcontroller,
[00:34:28.140 → 00:34:32.560] because this op amp will work fine with 3.3 volts as well.
[00:34:33.020 → 00:34:35.620] It's got a very good frequency response.
[00:34:35.620 → 00:34:37.060] It's audio capable,
[00:34:37.060 → 00:34:39.780] so you could use it with a very high quality
[00:34:39.780 → 00:34:41.660] analog to digital converter.
[00:34:42.180 → 00:34:45.380] And also there are two op amps in the package,
[00:34:45.380 → 00:34:47.360] so you could actually build a second circuit
[00:34:47.360 → 00:34:51.080] and amplify a second one of the A to D inputs
[00:34:51.080 → 00:34:54.440] and really add a lot of versatility to your projects
[00:34:54.440 → 00:34:57.200] with an op amp and a microcontroller.
[00:34:58.060 → 00:35:00.340] Now, if I gave you the task of designing
[00:35:00.340 → 00:35:01.860] a light sensitive switch,
[00:35:01.860 → 00:35:04.420] one that would turn something on or off
[00:35:04.420 → 00:35:07.120] based upon the absence or presence of light,
[00:35:07.540 → 00:35:09.620] chances are you would probably start thinking
[00:35:09.620 → 00:35:11.340] about using a microcontroller
[00:35:11.340 → 00:35:14.640] with perhaps an LDR or a photo transistor on it.
[00:35:14.900 → 00:35:16.480] And while that will certainly work,
[00:35:16.580 → 00:35:18.920] there is a much easier way of doing this,
[00:35:19.020 → 00:35:20.080] and that is, of course,
[00:35:20.160 → 00:35:21.920] to use an operational amplifier.
[00:35:22.520 → 00:35:25.180] We're going to build a small light sensitive switch
[00:35:25.180 → 00:35:28.320] with an op amp that's just going to control an LED,
[00:35:28.320 → 00:35:30.520] but you could extend it to use a relay
[00:35:30.520 → 00:35:33.780] or a power transistor to control something else.
[00:35:34.100 → 00:35:36.600] The best deal is that this entire design
[00:35:36.600 → 00:35:39.080] is going to take about $2 worth of parts
[00:35:39.080 → 00:35:41.100] and no programming required.
[00:35:41.340 → 00:35:43.600] So let's go and take a look at the hookup for that.
[00:35:44.260 → 00:35:47.140] Now here's the schematic for our light activated switch,
[00:35:47.220 → 00:35:50.660] and we're building this around an LM358 op amp.
[00:35:51.020 → 00:35:53.520] The LM358 is a very inexpensive
[00:35:53.520 → 00:35:55.440] and commonly available device,
[00:35:55.440 → 00:35:58.120] and it has an advantage in that it can work off
[00:35:58.120 → 00:35:59.560] of a single power supply.
[00:35:59.740 → 00:36:01.020] So we're going to power everything
[00:36:01.020 → 00:36:02.840] with one 9-volt battery.
[00:36:03.500 → 00:36:05.700] Now the output of the LM358
[00:36:05.700 → 00:36:08.720] is going to a 220-ohm dropping resistor
[00:36:08.720 → 00:36:10.400] and then to an LED.
[00:36:10.760 → 00:36:13.380] So we're just going to be turning an LED on and off,
[00:36:13.680 → 00:36:15.880] but of course you could change this for a relay
[00:36:15.880 → 00:36:18.720] or a power transistor to drive something else.
[00:36:19.240 → 00:36:20.900] Now essentially what we're doing here
[00:36:20.900 → 00:36:22.580] is running this as a comparator
[00:36:22.580 → 00:36:26.420] with a voltage divider consisting of the two 10k resistors
[00:36:26.420 → 00:36:28.740] attached to the inverting input.
[00:36:29.060 → 00:36:30.540] On the non-inverting input,
[00:36:30.700 → 00:36:32.340] we have another voltage divider
[00:36:32.340 → 00:36:34.660] which consists of the light dependent resistor
[00:36:34.660 → 00:36:38.280] or photo cell and a 20k potentiometer.
[00:36:38.620 → 00:36:40.540] You can adjust a 20k pot
[00:36:40.540 → 00:36:42.620] to adjust the trip point over here.
[00:36:42.820 → 00:36:44.660] So this is a very simple circuit.
[00:36:44.820 → 00:36:46.840] Let's wire it up and give it a test.
[00:36:48.220 → 00:36:50.140] And here's our light sensitive switch.
[00:36:50.140 → 00:36:52.660] You can see the LED is on right now.
[00:36:52.800 → 00:36:54.980] And if I go and cover the photo cell,
[00:36:55.240 → 00:36:56.760] the LED goes off.
[00:36:57.280 → 00:36:59.000] And so basically it's being triggered
[00:36:59.000 → 00:37:00.380] whenever it sees light.
[00:37:00.520 → 00:37:03.500] Now of course the LED is just an indicator.
[00:37:03.760 → 00:37:06.440] You could replace the LED with a transistor
[00:37:06.440 → 00:37:09.160] and a relay to drive something if you wanted to.
[00:37:09.500 → 00:37:11.600] There's also another trick you can do with this.
[00:37:11.680 → 00:37:12.820] So let me show that to you.
[00:37:12.880 → 00:37:14.800] Right now I'm going to disconnect my LED
[00:37:14.800 → 00:37:17.380] and connect it up another way.
[00:37:17.460 → 00:37:19.880] I'm going to now put the anode
[00:37:19.880 → 00:37:25.400] up to the positive power supply instead.
[00:37:26.600 → 00:37:29.700] And now what we've got is the LED is off.
[00:37:29.800 → 00:37:31.280] If I cover the photo cell,
[00:37:31.380 → 00:37:32.580] the LED goes on.
[00:37:32.680 → 00:37:35.340] So we've got the opposite arrangement right now.
[00:37:35.420 → 00:37:37.320] It's detecting dark instead of light.
[00:37:37.440 → 00:37:39.920] So you can wire it up either way that you want to,
[00:37:40.000 → 00:37:41.380] which is pretty versatile.
[00:37:41.380 → 00:37:44.040] And as I said, if you want to tie a transistor
[00:37:44.040 → 00:37:45.580] or a relay onto the output,
[00:37:45.800 → 00:37:47.200] you could drive something else.
[00:37:47.300 → 00:37:50.880] So here we have a photoelectric controlled switch
[00:37:50.880 → 00:37:54.700] that is not dependent upon a microcontroller
[00:37:54.700 → 00:37:57.300] and a very simple and inexpensive thing to build.
[00:37:57.460 → 00:37:58.840] If you need something like this,
[00:37:58.880 → 00:38:00.040] this is a great way to go.
[00:38:01.360 → 00:38:02.440] Now, as you've noticed,
[00:38:02.580 → 00:38:06.080] many operational amplifiers require a dual power supply,
[00:38:06.180 → 00:38:08.180] a power supply that has both a positive
[00:38:08.180 → 00:38:10.740] and a negative component in reference to ground.
[00:38:10.740 → 00:38:13.740] And you may not own a dual power supply.
[00:38:13.920 → 00:38:15.760] My workbench supply, for example,
[00:38:16.100 → 00:38:18.320] is just a single output power supply.
[00:38:18.520 → 00:38:20.920] But there is a converter that you can build
[00:38:20.920 → 00:38:23.940] to convert a single supply into a dual supply.
[00:38:24.180 → 00:38:26.900] And the converter is based around an op amp.
[00:38:27.120 → 00:38:30.060] So let's go and see how easy this is to wire up
[00:38:30.060 → 00:38:32.120] and convert a single power supply
[00:38:32.120 → 00:38:36.060] into a power supply we can use with operational amplifiers.
[00:38:37.200 → 00:38:40.140] Now here's the circuit for our power supply converter.
[00:38:40.140 → 00:38:44.040] And this is being built around an NE5532 op amp.
[00:38:44.400 → 00:38:46.980] You could use another op amp if you wish,
[00:38:47.100 → 00:38:50.460] providing it is an op amp made for dual power supplies.
[00:38:50.940 → 00:38:53.420] I'm also using two output transistors,
[00:38:53.580 → 00:38:56.700] a tip 31C and a tip 32C.
[00:38:57.100 → 00:39:00.580] Now you could use different output transistors if you wish.
[00:39:00.680 → 00:39:04.000] The key here is to use complementary transistors,
[00:39:04.480 → 00:39:06.140] an NPN and a PNP transistor
[00:39:06.140 → 00:39:09.300] that have otherwise the same characteristics.
[00:39:09.900 → 00:39:12.660] The tip 31C and tip 32C
[00:39:12.660 → 00:39:15.880] are capable of handling three amperes of current.
[00:39:16.020 → 00:39:18.660] So we can power something with up to three amps here.
[00:39:18.980 → 00:39:21.420] Although if you're going to go anywhere near the current rating,
[00:39:21.520 → 00:39:24.120] you should probably put a heat sink on those transistors.
[00:39:24.620 → 00:39:25.320] If you wish,
[00:39:25.400 → 00:39:28.940] you could substitute a tip 41C and 42C
[00:39:28.940 → 00:39:31.000] and go to six amperes.
[00:39:31.340 → 00:39:35.400] You'll also need a couple of 100 microfarad filter capacitors
[00:39:35.400 → 00:39:36.300] for the output.
[00:39:36.480 → 00:39:39.320] And these need to be rated at at least the supply voltage.
[00:39:39.660 → 00:39:42.620] So I would rate these at 35 volts or more.
[00:39:43.000 → 00:39:44.840] Now the operational amplifier
[00:39:44.840 → 00:39:47.160] has a voltage divider on the input
[00:39:47.160 → 00:39:49.360] that is made of two 10k resistors.
[00:39:49.460 → 00:39:52.780] And that's being applied to the non-inverting input.
[00:39:52.780 → 00:39:55.760] And the inverting input is just taking feedback
[00:39:55.760 → 00:39:59.060] from our reference or ground point on the output.
[00:39:59.420 → 00:40:02.180] And it will adjust the operational amplifier
[00:40:02.180 → 00:40:06.500] if the op amp finds itself going at a different reference point.
[00:40:06.620 → 00:40:10.460] And this will keep the voltages regulated on the output side.
[00:40:10.700 → 00:40:13.500] So it's actually a pretty simple circuit to hook up.
[00:40:13.600 → 00:40:16.060] Make sure you've got it all hooked up correctly though
[00:40:16.060 → 00:40:18.640] because you are dealing with your power supply voltages.
[00:40:19.060 → 00:40:21.280] So let's put ours onto a breadboard
[00:40:21.280 → 00:40:22.440] and check it out
[00:40:22.440 → 00:40:25.200] and see if we can drive another op amp circuit
[00:40:25.200 → 00:40:28.100] with our single to dual power supply converter.
[00:40:29.380 → 00:40:32.940] And so here's a demonstration of my power supply splitter.
[00:40:33.060 → 00:40:34.240] Now I've got it connected
[00:40:34.240 → 00:40:38.260] to the square and triangle wave multivibrator
[00:40:38.260 → 00:40:40.100] that we created a little bit earlier.
[00:40:40.340 → 00:40:43.400] So I'm driving one of our circuits with this circuit.
[00:40:43.780 → 00:40:45.560] I'm using my bench power supply
[00:40:45.560 → 00:40:47.860] and it's giving out 20 volts right now.
[00:40:47.900 → 00:40:50.320] And it's important to note that the bench power supply
[00:40:50.320 → 00:40:52.040] has a floating output.
[00:40:52.180 → 00:40:54.800] In other words, the negative side of the power supply
[00:40:54.800 → 00:40:56.460] is not connected to ground.
[00:40:56.580 → 00:40:57.800] And that's very important.
[00:40:58.240 → 00:41:00.080] If this had been connected to ground,
[00:41:00.340 → 00:41:02.640] I would have literally shorted everything out
[00:41:02.640 → 00:41:05.100] when I connected my oscilloscope up over here.
[00:41:05.140 → 00:41:06.920] And we certainly don't want that to happen.
[00:41:07.340 → 00:41:08.840] But otherwise, this is the breadboard
[00:41:08.840 → 00:41:09.920] with the splitter on it.
[00:41:09.920 → 00:41:12.220] I think if you look very carefully down here,
[00:41:12.260 → 00:41:13.900] you'll see the two power transistors.
[00:41:14.500 → 00:41:16.420] And it is powering this circuit here.
[00:41:16.500 → 00:41:18.020] And as you can see from the oscilloscope,
[00:41:18.020 → 00:41:19.620] it is indeed working.
[00:41:19.740 → 00:41:22.200] We've got the square wave and the triangle wave.
[00:41:22.460 → 00:41:24.300] Now I've got a multimeter over here
[00:41:24.300 → 00:41:26.380] and we'll measure a couple of voltage points.
[00:41:26.780 → 00:41:30.280] Here is the positive voltage I've got right now.
[00:41:30.360 → 00:41:32.220] The multimeter is tied to ground.
[00:41:33.500 → 00:41:36.240] And I've got 9.98 volts.
[00:41:36.240 → 00:41:37.780] So I'm not sure if you can see that.
[00:41:38.240 → 00:41:42.120] And I'm going to go over to my negative side right now.
[00:41:43.020 → 00:41:46.180] And I've got negative 9.96 volts.
[00:41:46.320 → 00:41:48.000] So it's regulated pretty well.
[00:41:48.320 → 00:41:51.060] Now, as I said earlier, when I showed you the design,
[00:41:51.120 → 00:41:52.040] if you wanted to,
[00:41:52.040 → 00:41:55.300] you could also put a couple of three-pin voltage regulators
[00:41:55.300 → 00:41:58.020] on the output to regulate it even further.
[00:41:58.180 → 00:42:00.480] But it actually splits the supply pretty well.
[00:42:00.480 → 00:42:02.360] So this is a great solution
[00:42:02.360 → 00:42:05.700] if you need a dual power supply for your op amps
[00:42:05.700 → 00:42:06.780] and you don't have one.
[00:42:07.020 → 00:42:09.980] Just use an op amp to take a single power supply
[00:42:09.980 → 00:42:12.000] and make it into a dual one.
[00:42:12.580 → 00:42:15.980] And so this concludes our look at operational amplifiers.
[00:42:16.120 → 00:42:17.880] I do hope that you enjoyed the video.
[00:42:18.140 → 00:42:19.080] And more importantly,
[00:42:19.240 → 00:42:21.240] I hope it's opened up your eyes to the fact
[00:42:21.240 → 00:42:23.560] that not everything has to be built
[00:42:23.560 → 00:42:24.880] around the microcontroller.
[00:42:24.880 → 00:42:28.220] You can build a lot of useful circuitry and projects
[00:42:28.220 → 00:42:32.300] around analog components like operational amplifiers.
[00:42:32.840 → 00:42:35.980] Now, if you want to get some more information about op amps
[00:42:35.980 → 00:42:38.440] or if you want to get the circuits that I used today,
[00:42:38.520 → 00:42:40.380] you will find all of that on the article
[00:42:40.380 → 00:42:41.760] that accompanies this video
[00:42:41.760 → 00:42:44.500] on the dronebotworkshop.com website.
[00:42:44.900 → 00:42:47.520] And there's a link right below the video to that article.
[00:42:47.780 → 00:42:50.120] When you're on the website, if you haven't yet,
[00:42:50.200 → 00:42:52.220] please consider signing up for my newsletter.
[00:42:52.400 → 00:42:53.340] It's not a sales letter.
[00:42:53.340 → 00:42:54.920] It's something I send out now and then
[00:42:54.920 → 00:42:57.880] to let you know about things that go on in the workshop
[00:42:57.880 → 00:43:00.440] because sometimes things do go on in the workshop.
[00:43:00.560 → 00:43:02.820] And the newsletter, of course, is absolutely free.
[00:43:03.300 → 00:43:04.920] Another thing that's absolutely free
[00:43:04.920 → 00:43:06.640] is the Dronebot Workshop Forum.
[00:43:06.780 → 00:43:07.920] So if you're having a problem
[00:43:07.920 → 00:43:10.860] with one of your op amp designs, get on the forum.
[00:43:10.980 → 00:43:13.020] There are a lot of great people on the forum
[00:43:13.020 → 00:43:15.660] who can help you out with your electronics projects.
[00:43:16.180 → 00:43:18.180] And finally, if you haven't yet,
[00:43:18.300 → 00:43:20.080] please subscribe to the YouTube channel.
[00:43:20.080 → 00:43:23.320] I make videos about electronics, microcontrollers,
[00:43:23.340 → 00:43:26.440] programming, and I think you would really enjoy them.
[00:43:26.580 → 00:43:28.180] And all you need to do to subscribe
[00:43:28.180 → 00:43:30.740] is to hit that little red subscribe button
[00:43:30.740 → 00:43:32.180] that you'll find below the video.
[00:43:32.380 → 00:43:34.400] And if you also hit the bell notification,
[00:43:34.780 → 00:43:37.920] you will get notified every time that I make a new video,
[00:43:38.300 → 00:43:40.640] assuming, of course, you enable notifications
[00:43:40.640 → 00:43:41.740] in your web browser.
[00:43:42.180 → 00:43:44.840] And with that said, please take care of yourself.
[00:43:45.000 → 00:43:46.320] Please stay safe out there.
[00:43:46.320 → 00:43:49.640] And I will see you soon here in the Dronebot Workshop.
[00:43:50.000 → 00:43:50.780] Goodbye for now.
[00:43:50.780 → 00:43:52.040] lessons.
[00:43:55.620 → 00:43:57.140] Life is en Summit
[00:44:02.220 → 00:44:03.440] Around theal mimics
[00:44:07.780 → 00:44:10.300] principles
[00:44:10.660 → 00:44:15.840] the
[00:44:16.000 → 00:44:16.800] the
[00:44:16.800 → 00:44:18.420] Music
[00:44:18.420 → 00:44:19.440] Music
