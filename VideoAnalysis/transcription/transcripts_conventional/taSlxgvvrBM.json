{"video_id": "taSlxgvvrBM", "url": "https://www.youtube.com/watch?v=taSlxgvvrBM", "title": "taSlxgvvrBM", "category": "Unknown Category", "fps": null, "segments": [{"start": 0.0, "end": 7.94, "text": "One of the most common feedback control algorithms is proportional integral derivative control, or PID control for short."}, {"start": 8.540000000000001, "end": 14.72, "text": "It's called a feedback control algorithm because sensor feedback is used to help determine the control signal."}, {"start": 15.32, "end": 22.86, "text": "As an example, let's say that I'm trying to control the angle of my arm, and my control is the torque that I apply at the shoulder."}, {"start": 23.42, "end": 28.52, "text": "Maybe I want to hold the arm at 90 degrees, and it's currently sitting at 45 degrees."}, {"start": 28.52, "end": 35.9, "text": "So then I would define the error as being 90 degrees minus 45 degrees, or 45 degrees of error."}, {"start": 36.28, "end": 39.0, "text": "So let's give variables to those."}, {"start": 39.36, "end": 44.92, "text": "We'll call U the control signal, or the torque to the motor."}, {"start": 46.64, "end": 56.7, "text": "And the error is called E, and that's just the desired output value minus the actual."}, {"start": 58.52, "end": 59.2, "text": "Okay."}, {"start": 60.0, "end": 72.72, "text": "So with these definitions of variables, we can write the PID controller as simply U is equal to, the control is equal to, KP times E."}, {"start": 72.72, "end": 98.34, "text": "So KP is the proportional gain times the error, plus the integral gain, KI, times the integral of the error as a function of time, plus KD, which is the derivative gain, times the derivative of error as a function of time."}, {"start": 98.34, "end": 99.34, "text": "Okay."}, {"start": 99.34, "end": 104.60000000000001, "text": "So the KP times E term, that's actually acting like a spring."}, {"start": 104.6, "end": 115.96, "text": "So if there's an error of 45 degrees from where I actually am to where I want to be, we multiply that by the proportional constant, KP, and that gives us a torque."}, {"start": 116.19999999999999, "end": 117.8, "text": "So it's acting just like a spring."}, {"start": 117.94, "end": 120.96, "text": "It acts on position error to try to reduce it."}, {"start": 120.96, "end": 125.58, "text": "This term here, K sub D, acts like a damper."}, {"start": 125.74, "end": 132.68, "text": "So if the error is increasing, then it tries to create a force to make that rate of error decrease."}, {"start": 133.12, "end": 138.62, "text": "And if the error is decreasing, then it's going to act to slow down the rate of decrease."}, {"start": 138.62, "end": 142.28, "text": "So we get to error equals zero without overshooting."}, {"start": 142.28, "end": 145.1, "text": "So this is acting like a mechanical spring."}, {"start": 145.26, "end": 148.2, "text": "This is acting like a mechanical damper in terms of error."}, {"start": 149.14000000000001, "end": 153.42000000000002, "text": "And this integral term is a little bit harder to come up with a mechanical analog for."}, {"start": 153.78, "end": 155.2, "text": "But here's the basic idea."}, {"start": 155.32, "end": 168.26, "text": "If the arm has been sitting here with an error from the desired angle for some time, then this error is going to be integrating up over time, creating a larger and larger torque that tries to push the arm upward."}, {"start": 168.26, "end": 173.16, "text": "So this integral term here is to try to get rid of steady state error."}, {"start": 173.48, "end": 175.6, "text": "And we'll see that more in examples later."}, {"start": 176.04, "end": 184.66, "text": "This is called a linear control law because the control value U is linear in the error, the integral of the error, and the derivative of the error."}, {"start": 185.35999999999999, "end": 190.23999999999998, "text": "If we want to implement that in a computer, we can look at pseudocode."}, {"start": 191.62, "end": 195.79999999999998, "text": "So first we initialize the value of the integral of the error."}, {"start": 195.92, "end": 197.01999999999998, "text": "We initialize it to zero."}, {"start": 197.02, "end": 202.94, "text": "And we're going to differentiate numerically the error currently from the previous error."}, {"start": 203.06, "end": 206.5, "text": "So we're going to initialize the previous error as zero."}, {"start": 207.20000000000002, "end": 211.18, "text": "And now we go into this control loop that gets executed every dt seconds."}, {"start": 211.82000000000002, "end": 215.94, "text": "So typically for motor control, that might be every one millisecond, for example."}, {"start": 216.62, "end": 223.98000000000002, "text": "So every one millisecond, we're going to go in and calculate the error, which is the desired position minus the position that we read from a sensor."}, {"start": 223.98, "end": 232.76, "text": "Then we can calculate the derivative of the error by taking the current error, subtracting the previous error, and dividing by the time step."}, {"start": 233.22, "end": 234.66, "text": "So now we've got E dot."}, {"start": 235.33999999999997, "end": 243.76, "text": "And to calculate the integral of the error, we just take the previous integral of the error and add to it the current error times the time step dt."}, {"start": 243.76, "end": 248.76, "text": "So this is a simple numerical integration scheme, simple numerical differentiation scheme."}, {"start": 248.76, "end": 255.04, "text": "And then finally down here, we calculate u according to the control law that we just gave."}, {"start": 255.94, "end": 261.44, "text": "Then, so the next time we can get the right numerical derivative, we set E previous equal to the current error."}, {"start": 261.44, "end": 267.04, "text": "And then we send the control output, for example, the torque to the motor."}, {"start": 267.04, "end": 268.04, "text": "Then we make the right numericalynamic generator."}, {"start": 268.04, "end": 270.34000000000003, "text": "So let's go ahead and manage the error."}, {"start": 270.86, "end": 272.6, "text": "So this is the way we are currently able to activate the error."}, {"start": 273.32, "end": 275.76000000000005, "text": "If there is a follow up button, if there is mandate E, the capacity or use the rpm, the drift method here is called the drive priority for example."}, {"start": 276.48, "end": 277.42, "text": "So, it might be helpful."}, {"start": 277.42, "end": 279.54, "text": "If you may be helpful."}, {"start": 280.18, "end": 283.58000000000004, "text": "So let's jump in and keep at the error when youELTS andilimium Valdeus sidebar"}, {"start": 283.58000000000004, "end": 285.72, "text": "and request for ultimation ranges with Morgan Chang»—"}, {"start": 286.52000000000004, "end": 288.08000000000004, "text": "We'llell this to two-hourly."}, {"start": 288.40000000000003, "end": 289.76, "text": "A court 있�owment forторi—"}, {"start": 289.76, "end": 291.66, "text": "So let's think there's a metaphor before."}, {"start": 291.66, "end": 291.92, "text": "If there is a ear beside didn't use other admirers again catalogs and it says—"}, {"start": 292.06, "end": 292.84000000000003, "text": "whatever because you sometimes don't specify the curb Victor?"}, {"start": 292.84000000000003, "end": 293.94, "text": "Ass써 if there has aưới venture irm—"}, {"start": 293.94, "end": 294.46000000000004, "text": "OUILITY Christian KOLV羅,"}]}