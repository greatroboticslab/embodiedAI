4dmrahCJonM
https://www.youtube.com/watch?v=4dmrahCJonM
Unknown Category
Hello and welcome to the video. This is a video all about flight controllers and it's aimed at those of you that have had nothing to do with flight controllers but have been trying to watch some of my other series and may be getting lost very quickly. Now this was really brought home the need for this video over the past week or so with two incidents. First of all I've been working here in my man cave with a friend of mine and we're building him an autonomous wing. He's just recently learnt to fly FPV and now he wants to have all that iNav goodness so he can do GPS return to home. He wants an on-screen display but we didn't have a model for him that would work like that. So what he asked was when you're building it can I kind of come and sit with you and you can explain what you're doing and how it all works. I thought you know what that's really interesting because I don't have a video for that and that was followed up only the other day by a patron of mine kind of getting in touch just saying look I love all the videos and stuff but the build videos I get completely lost. So if you know anything about flight controllers or have done any flight controller setups and you've followed along and done any builds then you know what this video isn't for you go and do something else and watch something more useful. If however you are one of those pilots that watch a lot are videos on things like flight controllers, iNav, Betaflight, ArduPilot with planes, quadcopters, multi-rotors and you're desperately trying to follow along but it's all not making a lot of sense then stay with me. This video is exactly aimed at you. Now let's first of all talk about what a flight controller does. Now normally in let's take an example of a radio controlled plane. The way it works is that we have the receiver and then all the servos and the speed controller for the motor if it's electric plug into the receiver directly. Now with a flight controller that is a little bit of electronics that sits between the receiver and everything else on the model and the flight controller is pretty clever. It actually controls all of the servos and ESCs and makes the model fly and what it's doing is it's listening to what you want the model to do from the signals coming in from the radio receiver so it knows where all your throttle, aileron, elevator, rudder and bits and pieces are and then it's feeling through its own onboard sensors how the model is moving and then translating that into what needs to happen with either the control surfaces or the speed controllers to actually give you what you're asking for on the controls. Now simple stabilizers for fixed wing kind of do a mini light version of that but flight controllers modern flight controllers in particular are much more capable of doing some pretty impressive stuff as well as basic flight stabilization. Some of the most advanced flight controllers out there so things that are running iNav flight and things that are running RD pilot can be set up to fly completely autonomously so you can upload a mission to it and then it'll just fly it all itself and do everything. So there's a broad range of stuff here and again don't worry about the jargon too much I'm going to try and keep it to a minimum as we go through the slides. So the flight controller itself is a little bit of hardware it looks like a little circuit board normally but if you're looking at the latest Pixhawk family it can look like a little black cube stuck on top of a board full of connections. Now this is actually a little computer it has a CPU it has memory it has IO ports so it is like a little computer that you would use every day to do your email or access the web or whatever but this hardware this little PCB board needs some firmware to run on it a program if you want to think of it like that that actually does all of the work. So the the flight controller has all of the pieces of a computer and you're loading the software on it that software because it kind of lives on the board is called firmware and that's what things like iNav, Betaflight, RD pilot are actually that's actually the firmware that you have to flash or load onto the flight controller. Very few flight controllers come with that stuff already on or if they do it's typically an older version that you need to update anyway and that's commonly what I do in my build videos in the very early part I kind of update the firmware or the software bit onto the hardware flight controller so that those two bits go together. The third part in this trinity is usually a program that goes onto your computer and that program is used to flash or upload the firmware onto the hardware flight controller but then is also used to set everything up and calibrate things like the radio and other pieces so when with those three things together the hardware the firmware that's loaded onto the hardware and the pc application that you run on your computer those three things work together to make the flight control system. Now there are loads and loads of flight controller options I started out in the very early days on this channel with something called multi-Wii which sound rude but it isn't. So things like the multi-Wii, APM, CC3D, NAZI32 they were stuff that was in vogue five six years ago you don't want to be using any of those don't touch them with a barge pole. These days you want to be looking at flight controllers that have a relatively modern CPU so that's an F4 based flight controller and that's what the F4, F7 is actually referring to it's how powerful the flight controller CPU is that's actually on the little PCB board and with modern flight control firmware it needs more and more processing power in order to run so these days an F4 board is kind of the minimum F7 and H7 which is even more powerful are becoming the norm so those are the kind of things that you need to look at. With the explosion of the multicopter revolution lots and lots of flight controllers these days are built so that you can attach the four ESCs on the corners and build a quadcopter and I've used quite a lot of them on the channel and some flight controllers need a separate power distribution board or PDB that you connect all the power into that's where the battery connects to and the ESCs connect to as well and it maybe passes the voltage around and also typically that board then plugs into the flight controller and the flight controller then can monitor the voltage and currents that are being used to keep track of how much battery is left so that's the other part of the system that you might come across but most modern flight controllers these days are what are called all-in-one or AIO boards they have that power distribution board they have all the flight controller bits all the pads that you need actually on board and some flight controllers are what are called all-in-one or AIO flight controllers and they have all the pieces on one little circuit board everywhere where you connect your servos or your speed controllers or things like the battery power and the power connections for the ESCs inside the model as well all-in-one boards make for really clean simple installations and I'm a big fan of those because it means you have one board that does everything rather than two or three boards that you have to try and fit inside your model there are different kinds of flight controllers and some of them are suited as I've just mentioned to some applications rather than others some of them are multi-purpose so if they've got lots of connections for outputs for things like servos and speed controllers then they could be used in pretty much anything but you tend to find that they tend to be specialized so the all-in-one boards typically tend to be aimed at multi-rotors but some of the matek boards are built specifically for wings so do watch the build videos on the channel for the ones that I'm using because I'm always trying to use the latest and greatest and use flight controllers that I haven't done before to show how they all go together some of the larger flight controllers that are designed for more complex installations where you're going to have things like GPS external compasses airspeed sensors lidar sonar sensors those kind of things will have lots of what are called UARTs I'm going to talk about some of the three and four letter acronyms on a slide in a minute and those are just places where you can plug stuff in typically the smaller boards will only have pads or pins for a very small number of those kind of UARTs or I squared C ports I squared C is a is another system again we'll talk about this in a minute but it's just the way that you connect all these external parts onto it it may be for a simple quadcopter you don't need any of that you just need to install the receiver on one side and then you can connect the four ESC motor connections on the corner of an all-in-one flight controller and you're done but typically you're going to add some FPV stuff and I'll talk about that towards the end let me talk a little bit about what flight controllers actually do so we've talked about the fact that the flight controller sits in the middle of the radio receiver and all of the flight control systems on the plane so speed controllers servos or whatever now the flight controller can do almost nothing and typically the way it works is the flight controller does all the mixing for you so if you have a V-tail plane or you have a quadcopter you're only sending that you want to maybe roll to the right via the radio the flight controller is then figuring out which motors need to slow down which ones need to speed up and feeling with its accelerometers and gyroscopes on board how that movement is happening and comparing it to how you said you want it happening in the software and all that comes together and it kind of does it now there are some common modes that you're going to come across when you're talking about flight controllers so let me talk about four of the basic ones first one is what's called angle mode now angle mode is like a self-stabilization mode if you want to think of it like that it usually has a limit on the pitch and roll of the aircraft so you can't turn it over you can't get into too much trouble and with angle mode if you take your hands off the sticks it will normally auto level the vehicle whether that's a fixed wing model or it's a multi-motor horizon is angle mode with extras so horizon will act like angle mode if you're just flying gently but if you push the sticks right to the edge of their travel on your radio then it will overcome that limit that you've got of pitch and roll and you're and it will actually then start to be able to flip and roll so angle is very much for beginners and for learning to fly I would suggest or I still use it sometimes these days for gentle cruising horizon is when you want to start being a little bit more aggressive maybe you want to do loops and rolls and flips in the model that you're doing next one is sometimes called manual mode or rate mode that's where you don't want any real help from the flight controller apart from the mixing that it's doing again you know you're only using one stick on the radio but it might be affecting several motors and a multi-rotor in fact it almost certainly will be or it will be moving particular controls on the on the fixed wing model and in rate and manual mode is doing the absolute basic for you so it's like the very basic stuff that a stabilizer would do in a traditional fixed wing model and then finally if you are adding things like a gps and using stuff like iNav or iDoPilot then you can do some really cool stuff you can do things like gps loiter where you can kind of park the vehicle in the sky with a plane it will just circle around a particular point it was at when you initiated gps hold or loiter you can also do gps return to home so in the event of a problem or fail safe it'll actually fly back to you and with a multi-rotor with iNav or iDoPilot it'll actually then land automatically and disarm itself as well so again you don't have to have really complicated systems with lots of things added onto it and plugged in you can be very basic the builds that i tend to do i tend to like to show how you add all those extra things and then if you wanted to you could and we'll talk a little bit more about the differences between things like Betaflight iNav and iDoPilot in a minute so let me cover some more of these three and four letter acronyms first one we'll talk about what called uarts these uarts are usually four pads on a flight controller these are the plus five volts of ground a transmitter receive typically you're going to plug things like gps or telemetry radios into them they are universal so you can have them running at different speeds with different protocols they are fantastic so some of the really big modern flight controllers have lots of uart ports available and you can plug lots of things into it the next one that you'll see me talk about is i squared c or iic it's a bus architecture that you can plug lots of different things in now external compasses tend to run on i squared c but other sensors can now you can have multiple things connected into one i squared c connection because it's like a little computer network with a uart that we've just talked about it tends to be a uart is dedicated for one specific peripheral whether that's a telemetry radio or a gps or something else but they're just both of them just ways that you can connect other devices to your flight controller and get them to work s bus is the most common protocol you're going to come across these days it's the protocol or the way that the receiver talks to the flight controller and sends the information about where all the controls are on the radio that's in your hand there are lots of other options available there's fpaw i bus crsf loads of other different ways that people can use but s bus is probably going to be the most common and s bus is really only used in these days to just get the signals from your receiver into the flight controller s bus is really good because it's a digital signal and that digital signal means you can error check and there's also extra things around all the channel positions so the flight controller can see when there's a problem an error or a fail safe condition and take appropriate action and that fail safe condition might be return to home fly back to you and land at your feet if you've got things like a gps connected so let me talk a little bit now about the different firmwares that you're probably going to come across if you watch any of the builds on the series let me talk about the three most common ones that you're going to bump into watching stuff on youtube the first one and probably this one's got the most video by far and away is going to be beta flight now beta flights been around for a while and it tends to be focused on multi-rotor racing so it's really aimed at that it's all about giving the most locked in feel and the fastest responses for flying a quadcopter typically very quickly it's not very good and lots of things outside of that so it doesn't really care about fixed wing it has very limited gps functionality but if you are looking for a quadcopter and you want to fly it without lots of extra sensors on it then beta flight with a little all-in-one flight controller is going to be a great choice next one is iNav flight commonly referred to as iNav now iNav and beta flight had a common ancestor and iNav rather than just focus on the quadcopter side went away to focus initially on all the gps flight modes so in iNav if you want gps functionality it has an awful lot of that stuff sorted out it's great for loitering return to home it'll even fly autonomous missions you can program that upload it into the flight controller and the flight controller will just take off and do its own flight it is probably not as polished as beta flight in terms of the high-end performance for things like quadcopter racing but it is absolutely great also at fixed wing and i tend to if i'm building a fixed wing these days use iNav if if i just want a nice clean simple installation that supports all the modern protocols the last one that you'll see on my channel is something called ardupilot now ardupilot originally was just for things like the apm hardware and pixfork and the ardupilot family consists of things like arducopter ardurover arduplane ardusub so there's lots of different versions of it depending on what you want to fly so whereas with beta flight it's really just quad well multi rotors with iNav it's fixed wing and multi rotors with ardupilot it is all kinds of stuff now iNav at the moment are developing also for things like rovers and other platforms as well which is exciting but ardupilot has been doing it for a very long time now in terms of bulletproof code ardupilot is right up there and i did a couple of builds last year putting ardupilot onto non-pixfork technology because they support third-party boards now things like the omnibus and the matek flight controllers and adding things like the uh telemetry radials adding things like the gps using things like uarts and i squared c ports have been a fantastic experience for me here i'm a big fan of ardupilot but it hasn't got the support for all the modern protocols and isn't as slick on things like fpv where you're adding some kind of contextual information over the view from the camera in your goggles all that stuff is relatively new and if you want to control your video transmitter using smartport or tramp or you want to support lots of the new technologies like crsf which is a low latency connection that team black sheep developed the other two support that stuff ardupilot doesn't yet if you're interested in knowing more about that hopefully that gives you a bit of context and you can go and watch the series on the channel go and have a look in the playlist and there's lots and lots of builds using all this technology to show you the differences last thing i'll talk about which i've touched on a little bit is fpv now fpv is where you are going to fly by looking out live through a little camera mounted at the front of the model now in planes or multi rotors you can just have the camera connected to a video transmitter that sends the signal to your goggles and you can watch it and fly it first person view which is fpv stands for most modern flight controllers though are smarter than that you connect the video from the camera into the flight controller and then you connect a video out from the flight controller into the video transmitter that then sends it to the goggles and what the flight controller does very cleverly is overlays key flight information so flight time battery voltage distance from home if you have things like gps ground speed all the the flight mode that you're in all that goodness can be popped around the outside of the image and it's great for keeping an eye on how much time you've got left or whereabouts you are related to way to cough some flight controllers are more advanced with this than others so one of the flight controllers that i really like for example is the brain fpv flight controller that has a graphical on-screen display but flight controllers from people like matek holibro all those guys actually have an on-screen display and again it's the on-screen display supported by all three of the firmwares i've just talked about that's inav beta flight and ardupilot as well couple last things to think about the dji air unit doesn't work in exactly that way it works slightly differently at the moment the only support is really for beta flight for the dji air unit i'll link to the video that talks about that and the last point in this video is there are some flight controllers that have been around for a long time things like the pixhawk family don't have in built support for an on-screen display for fpv so unfortunately if you want that kind of stuff with fpv you have to use additional boards again see my builds with pixhawk where i show you how to do that so i'm going to stop there hopefully that's enough information for those of you new pilots who are interested in flight controllers but we're just getting lost in the build series and enough context so that you can go and watch them and it will make more sense a flight controller is just a little computer running some firmware on there that is then doing a lot of the flying for you how much of that you can decide by flicking a switch on your radio that selects the flight mode it can be very basic and just do the essentially what a stabilizer would do if you use that in a fixed wing or it can be super duper complex with gps airspeed sensors lidar and all those kind of other things and fly everything autonomously and you can get stuff that will do everything in between so if you have any questions or comments please pop them down below and i'll put links down below to some of my most recent build series so now hopefully armed with that understanding you can watch them and they'll make more sense thank you for watching my video and watching right to the very end if you want to find out what i'm currently working on you can follow me on social media by searching for painless 360 in the usual places if you'd like to become part of the inner circle then you can become a patreon details are in the description and you get lots of additional benefits check out the playlist section on the channel too i organize all of my videos into playlists and it's called something like introduction to or for beginners all of the content is aimed so that you can start the very beginning and it teaches you that subject starting with simple principles and moving up to teach you everything you need to know you