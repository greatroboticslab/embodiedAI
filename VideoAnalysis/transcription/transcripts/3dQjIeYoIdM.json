{"video_id": "3dQjIeYoIdM", "url": "https://www.youtube.com/watch?v=3dQjIeYoIdM", "title": "3dQjIeYoIdM", "category": "Unknown Category", "fps": null, "segments": [{"start": 1.0, "end": 6.5, "text": "In a previous video I showed you how to create a simple class AB audio amplifier"}, {"start": 6.5, "end": 13.5, "text": "that consists of any 5534-bamp and a push-pull bipolar junction transistor output stage."}, {"start": 13.5, "end": 19.0, "text": "Now, even though the circuit did work decently, there was one problem."}, {"start": 19.0, "end": 20.5, "text": "It's power loss."}, {"start": 20.5, "end": 26.5, "text": "We can identify its cause by taking a look at the simplified functional block diagram."}, {"start": 26.5, "end": 32.5, "text": "Firstly, our originally applied audio signal gets its voltage amplified by an op-amp."}, {"start": 32.5, "end": 39.5, "text": "Since such op-amps can only supply very little power, the next part of the circuit is a BJT output stage"}, {"start": 39.5, "end": 46.5, "text": "that modulates a supply voltage of 12 volts to become the audio signal that is not only voltage amplified"}, {"start": 46.5, "end": 50.5, "text": "but can also supply sufficient current for the speaker."}, {"start": 50.5, "end": 55.0, "text": "The only problem is that the transistors work in the active region,"}, {"start": 55.0, "end": 60.0, "text": "which means there exists a noticeable voltage drop across the collector emitter path"}, {"start": 60.0, "end": 68.0, "text": "and thus power loss is created, which leads to an overall efficiency of around 50 to 60%."}, {"start": 68.0, "end": 73.0, "text": "To increase this efficiency though, we can utilize another audio amp kind,"}, {"start": 73.0, "end": 79.0, "text": "a class D amp to be precise, with an efficiency of up to 95%."}, {"start": 79.0, "end": 83.0, "text": "So in this video, I will show you how such an audio amp works"}, {"start": 83.0, "end": 89.0, "text": "and how we can create our own DIY version, which consists of common components."}, {"start": 89.0, "end": 91.0, "text": "Let's get started!"}, {"start": 91.0, "end": 109.0, "text": "First off, let's have a look at the simplified functional block diagram of a class D amp."}, {"start": 109.0, "end": 116.0, "text": "On the left side, we got our audio signal, which is connected to the non-inverting input of a comparator."}, {"start": 116.0, "end": 124.0, "text": "The inverting input however, gets connected to a triangle wave with a frequency of above 200 kilohertz."}, {"start": 124.0, "end": 129.0, "text": "Now whenever the voltage of our audio signal is higher than the triangle voltage,"}, {"start": 129.0, "end": 134.0, "text": "the output of the comparator gets pulled high and vice versa."}, {"start": 134.0, "end": 141.0, "text": "This way, we basically modulated our audio signal with maximum frequencies of around 20 kilohertz"}, {"start": 141.0, "end": 146.0, "text": "into a high-frequent square wave, which then connects to a MOSFET driver."}, {"start": 146.0, "end": 150.0, "text": "The driver obviously turns on and off two MOSFETs."}, {"start": 150.0, "end": 153.0, "text": "The high side one according to the high voltage levels,"}, {"start": 153.0, "end": 157.0, "text": "and the low side one according to the low voltage levels."}, {"start": 157.0, "end": 162.0, "text": "This way, we get a powerful high-frequent square wave at the MOSFETs output,"}, {"start": 162.0, "end": 166.0, "text": "which since the MOSFETs were switched on and off in their ohmic region,"}, {"start": 166.0, "end": 172.0, "text": "with a low drain to source voltage drop, created very little power losses."}, {"start": 172.0, "end": 178.0, "text": "Now we can recreate the original audio signal by adding an LC low-pass filter,"}, {"start": 178.0, "end": 182.0, "text": "which like the name implies, filters out all the high frequencies,"}, {"start": 182.0, "end": 186.0, "text": "and leaves us with our original, now amplified audio signal."}, {"start": 186.0, "end": 198.0, "text": "As suitable components, we can use a 555 timer, a LM393, a 74HC04 to create an inverted signal of the high-frequent square wave,"}, {"start": 198.0, "end": 206.0, "text": "which is mandatory for the IR2113 MOSFET driver, and two IRLZ44N MOSFETs."}, {"start": 206.0, "end": 213.0, "text": "Before we can solder a proper circuit though, I utilized the free EasyEDA circuit design software,"}, {"start": 213.0, "end": 216.0, "text": "to create an appropriate schematic."}, {"start": 216.0, "end": 222.0, "text": "By utilizing the online component library, I imported all the required ICs and passive components,"}, {"start": 222.0, "end": 229.0, "text": "and afterwards connected them all to one another, according to the previously discussed functional block diagram."}, {"start": 229.0, "end": 235.0, "text": "The only question left to answer, was what kind of values should be used for the LC filter."}, {"start": 235.0, "end": 244.0, "text": "According to a commercial class D amp that I had lying around, inductances of 22μH should be suitable."}, {"start": 244.0, "end": 249.0, "text": "The only inductors I had lying around though, were 33μH ones."}, {"start": 249.0, "end": 255.0, "text": "So I connected two of them in parallel, in order to create a 16.5μH value,"}, {"start": 255.0, "end": 262.0, "text": "and wrote down the two formulas to calculate the inductance and capacity of a LC low-pass filter."}, {"start": 262.0, "end": 268.0, "text": "If we rearrange the inductor formula, and insert the load impedance of 4Ω,"}, {"start": 268.0, "end": 273.0, "text": "according to the speaker properties, and the inductance of 16.5μH,"}, {"start": 273.0, "end": 278.0, "text": "we can calculate a cutoff frequency of around 40kHz,"}, {"start": 278.0, "end": 286.0, "text": "at which the original voltage amplitude will be lowered by 3dB, or 40% of the original amplitude."}, {"start": 286.0, "end": 294.0, "text": "By inserting this frequency into the capacitor formula, we get a capacitance of around 1.03μF,"}, {"start": 294.0, "end": 300.0, "text": "which I created by connecting five 0.22μF capacitors in parallel."}, {"start": 300.0, "end": 305.0, "text": "And now that the schematic was complete, I gathered all the required components,"}, {"start": 305.0, "end": 308.0, "text": "and started soldering them to a piece of perfboard."}, {"start": 308.0, "end": 313.0, "text": "As always, I tried to utilize silvered copper wire for the most part,"}, {"start": 313.0, "end": 317.0, "text": "but still had to use a bit of hookup wire at the end."}, {"start": 317.0, "end": 321.0, "text": "And of course, you can find reference pictures of my perfboard layout,"}, {"start": 321.0, "end": 325.0, "text": "as well as the schematic for this project, in the video description."}, {"start": 325.0, "end": 329.0, "text": "After three hours of soldering, the circuit was complete,"}, {"start": 329.0, "end": 336.0, "text": "and it was time to insert all the ICs, connect a 15V power supply to the input,"}, {"start": 336.0, "end": 338.0, "text": "and a speaker to the output."}, {"start": 338.0, "end": 341.0, "text": "As a first test, I hooked up my function generator,"}, {"start": 341.0, "end": 347.0, "text": "set to a sine wave with a frequency of only 1Hz to the audio input."}, {"start": 347.0, "end": 354.0, "text": "Since the 555 timer creates a triangle voltage between around 1.3 and 2.3 of the supply voltage,"}, {"start": 354.0, "end": 359.0, "text": "we also have to use a potentiometer to add a DC offset to the sine wave,"}, {"start": 359.0, "end": 364.0, "text": "so that it is completely submerged inside the triangle wave."}, {"start": 364.0, "end": 367.0, "text": "If we now take a look at the output of the comparator,"}, {"start": 367.0, "end": 374.0, "text": "we can see how the slowly changing 1Hz sine wave creates the modulated high-frequent square wave."}, {"start": 374.0, "end": 379.0, "text": "And if we increase the frequency to a value that is closer to proper music,"}, {"start": 379.0, "end": 383.0, "text": "the output definitely looks crazy and confusing,"}, {"start": 383.0, "end": 386.0, "text": "but the theory pretty much stays the same."}, {"start": 386.0, "end": 393.0, "text": "But by using lower frequencies, we can actually create a lot of visible vibrations of the speaker cone,"}, {"start": 393.0, "end": 399.0, "text": "which showcases that this class D-Amp is pretty damn powerful for its simplicity."}, {"start": 399.0, "end": 404.0, "text": "And as you would have expected it, by increasing the frequency of the sine wave,"}, {"start": 404.0, "end": 409.0, "text": "we produce higher tones, which means that the amp works without a problem."}, {"start": 409.0, "end": 416.0, "text": "So I replaced the function generator with my smartphone and tested the music playback capabilities of the amp."}, {"start": 416.0, "end": 423.0, "text": "As you can hear, the music playback also worked like a charm, but the volume was a bit low."}, {"start": 423.0, "end": 430.0, "text": "The reason for that was that the music signal only features a peak-to-peak voltage of around half a volt,"}, {"start": 430.0, "end": 435.0, "text": "while the function generator easily created peak-to-peak voltages of 4 volts."}, {"start": 435.0, "end": 443.0, "text": "So as an afterthought, I added an LM386 op-amp in between the input audio signal and the comparator,"}, {"start": 443.0, "end": 446.0, "text": "which didn't even require complementary components."}, {"start": 446.0, "end": 452.0, "text": "Afterwards, the audio signal consisted of a peak-to-peak voltage of 4 volts as well,"}, {"start": 452.0, "end": 458.0, "text": "which was suitable to create a much louder playback of the music through the class D-Amp."}, {"start": 458.0, "end": 462.0, "text": "Now of course, this circuit is definitely not perfect."}, {"start": 462.0, "end": 466.0, "text": "However, the audio quality is pretty decent."}, {"start": 466.0, "end": 469.0, "text": "And more importantly, maybe you learned something new."}, {"start": 469.0, "end": 473.0, "text": "If so, don't forget to like, share and subscribe."}, {"start": 473.0, "end": 477.0, "text": "Stay creative and I will see you next time."}, {"start": 477.0, "end": 478.0, "text": "See you next time."}]}