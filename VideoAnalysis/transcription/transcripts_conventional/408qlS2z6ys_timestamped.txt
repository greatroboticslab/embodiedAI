408qlS2z6ys
https://www.youtube.com/watch?v=408qlS2z6ys
Unknown Category

[00:00:00.400 → 00:00:07.140] Welcome to my video. The subject here is going to be optocouplers theory operation and circuits.
[00:00:07.920 → 00:00:15.000] I'm your host, Lewis Laughlin. Visit my website at www.bristolwatch.com.
[00:00:16.440 → 00:00:26.540] Objective to understand the basic operation of optocouplers, their types, and use in power control circuits with Arduino and PIC, etc.
[00:00:26.540 → 00:00:32.220] There will be a couple of short live video clips at the end of this presentation.
[00:00:33.920 → 00:00:45.480] A typical optocoupler is usually a 6-pin device that has generally an LED infrared emitter and some type of light sensor.
[00:00:46.220 → 00:00:50.360] If we turn on the LED, it turns on the light sensor.
[00:00:50.360 → 00:00:56.060] The light sensor can be a transistor or it can be any number of things.
[00:00:57.380 → 00:01:04.360] The big advantage of optocouplers is electrical and noise isolation.
[00:01:05.540 → 00:01:10.120] The isolation potential can go up into thousands of volts.
[00:01:11.020 → 00:01:16.180] Some of them are rated at 7,000 or 10,000 volts electrical isolation.
[00:01:16.180 → 00:01:21.160] As shown here, it can be a number of detectors.
[00:01:22.120 → 00:01:24.660] It could be a light activated SCR.
[00:01:24.800 → 00:01:26.100] It could be a digital output.
[00:01:26.360 → 00:01:28.140] It could be a Darlington transistor.
[00:01:28.440 → 00:01:30.780] There's all kinds of detectors.
[00:01:31.500 → 00:01:34.040] But they all have the basic same purpose.
[00:01:34.340 → 00:01:37.700] Voltage isolation between input and output.
[00:01:37.700 → 00:01:49.240] For example, this part number, H11AA1, has dual back-to-back infrared emitters.
[00:01:49.480 → 00:01:55.840] Quite handy for making things such as a zero crossing detector.
[00:01:55.840 → 00:02:08.480] Sometimes we will use optocouplers in conjunction with secondary components to make solid-state relays.
[00:02:08.480 → 00:02:12.680] What you're seeing pictured here is an input protection circuit.
[00:02:12.960 → 00:02:15.660] It can work with any of these optocouplers.
[00:02:16.340 → 00:02:19.820] They can have a range from 3 to 30 volts.
[00:02:19.820 → 00:02:29.780] Either though the LED itself has a rating of probably 1.2 to 1.8 volts,
[00:02:30.580 → 00:02:39.160] the addition of this 2-watt resistor and Q1, which is an NPN transistor like a 2N2222,
[00:02:39.840 → 00:02:45.480] as the voltage increases, the current flow will increase through the LED.
[00:02:45.480 → 00:02:51.520] And of course, it creates a larger voltage drop across this 47-ohm resistor,
[00:02:52.400 → 00:02:59.500] cutting this transistor Q1 on and shunting the current through Q1 instead of the LED.
[00:03:00.160 → 00:03:02.360] That's how your protection circuit works.
[00:03:03.500 → 00:03:08.220] This is your very most basic optocoupler circuit.
[00:03:10.220 → 00:03:15.280] Generally, we tie the LED through a resistor to ground.
[00:03:15.480 → 00:03:20.960] And connect it to generally an I.O. pin of an Arduino, PIC, or whatever.
[00:03:21.800 → 00:03:26.460] A high, of course, 5 volts or 3 or whatever you're using,
[00:03:27.080 → 00:03:28.760] turns the LED on.
[00:03:29.280 → 00:03:33.480] The LED light onto the base of an internal phototransistor
[00:03:34.060 → 00:03:38.880] cuts on the phototransistor and completing a path to ground.
[00:03:38.880 → 00:03:47.580] This circuit is fine, except it suffers from low-power handling capabilities.
[00:03:48.000 → 00:03:51.360] Optocouplers are generally low-power devices.
[00:03:52.040 → 00:03:57.200] So we have to look into using optocouplers to control more powerful devices
[00:03:57.200 → 00:04:01.740] to really handle heavy jobs.
[00:04:01.740 → 00:04:06.800] This particular one, the 4N25, is rated at 30 volts.
[00:04:06.900 → 00:04:12.120] I'm referring to the detector transistor at 150 milliamps.
[00:04:12.380 → 00:04:13.780] Not a lot of power.
[00:04:13.780 → 00:04:17.760] All right.
[00:04:17.880 → 00:04:22.800] What we have done here is here is our 4N25 optocoupler.
[00:04:23.280 → 00:04:26.800] We have connected it off to 24 volts VCC.
[00:04:28.440 → 00:04:31.220] And through the collector and through the emitter,
[00:04:31.380 → 00:04:35.780] we've connected a 1K resistor to the base of a TIP120.
[00:04:35.780 → 00:04:42.160] This is a power Darlington transistor rated, I think, at 5 amps.
[00:04:42.740 → 00:04:47.260] When I have a high on the LED, it switches on.
[00:04:47.360 → 00:04:50.760] It switches on the detector transistor,
[00:04:51.440 → 00:04:55.920] creates a base emitter current flow through the transistor,
[00:04:56.180 → 00:04:58.180] and switches on the lamp.
[00:04:58.260 → 00:04:59.900] In this case, a light bulb.
[00:04:59.900 → 00:05:06.680] Here is another variation of the same circuit,
[00:05:06.780 → 00:05:13.360] except this time we are using a PNP Darlington transistor,
[00:05:13.560 → 00:05:15.340] such as a TIP125.
[00:05:16.620 → 00:05:19.440] Notice something different about this circuit
[00:05:19.440 → 00:05:21.340] as opposed to the previous circuit.
[00:05:22.800 → 00:05:28.160] This circuit had the same electrical ground on the microcontroller,
[00:05:28.160 → 00:05:32.880] and the secondary output at the 24 volts.
[00:05:34.000 → 00:05:39.120] Here, we have completely severed the secondary power supply totally
[00:05:39.120 → 00:05:41.060] from the microprocessor.
[00:05:41.260 → 00:05:43.180] There is no electrical connection.
[00:05:43.340 → 00:05:45.780] There is only a light connection.
[00:05:46.360 → 00:05:49.080] Again, I could have done this very same thing
[00:05:49.080 → 00:05:52.860] with the NPN Darlington that we saw earlier.
[00:05:53.340 → 00:05:57.060] A variation of this is called a solid-state relay.
[00:05:58.160 → 00:06:02.040] And can use a plain old PNP transistor if you want to.
[00:06:04.000 → 00:06:05.960] Here is another variation,
[00:06:06.720 → 00:06:10.520] using this time an N-channel MOSFET.
[00:06:10.980 → 00:06:12.500] What am I doing here?
[00:06:12.600 → 00:06:17.260] I'm using the 4N25 when I switch it on
[00:06:17.260 → 00:06:22.300] to apply voltage to the gate of Q1, the MOSFET.
[00:06:22.480 → 00:06:24.720] It will immediately turn it on.
[00:06:25.220 → 00:06:28.220] It will create a current path and light up the light bulb.
[00:06:28.560 → 00:06:29.380] It's that simple.
[00:06:30.180 → 00:06:31.660] Be careful, though.
[00:06:31.940 → 00:06:34.500] You need to read the VGS rating,
[00:06:34.600 → 00:06:36.340] that's voltage gain source,
[00:06:36.600 → 00:06:38.960] in the MOSFET spec sheet.
[00:06:39.220 → 00:06:40.700] Do not exceed it.
[00:06:40.700 → 00:06:43.500] Most of the ones I use in my videos
[00:06:43.500 → 00:06:45.880] is rated for right at 24 volts.
[00:06:46.540 → 00:06:48.340] Don't run them at 24 volts
[00:06:48.340 → 00:06:50.740] if you're using those particular ones.
[00:06:50.740 → 00:06:55.400] Here again is,
[00:06:56.060 → 00:07:01.020] we're using a P-channel power MOSFET
[00:07:01.020 → 00:07:02.560] as opposed to an N-channel.
[00:07:02.880 → 00:07:05.200] It's wired differently, of course.
[00:07:05.400 → 00:07:06.440] What I have to do is,
[00:07:06.520 → 00:07:10.820] I'm using the detector and the MOSFET,
[00:07:10.900 → 00:07:12.260] and the optocoupler,
[00:07:12.580 → 00:07:15.760] to drop the gate voltage to about a half a volt
[00:07:15.760 → 00:07:17.520] when it switches on.
[00:07:17.520 → 00:07:22.740] And this will create a difference of around 10, 11 volts
[00:07:22.740 → 00:07:24.160] between gate and source.
[00:07:24.380 → 00:07:25.880] It will switch on the transistor,
[00:07:26.160 → 00:07:27.760] and the light bulb will light up.
[00:07:28.240 → 00:07:32.440] This goes right back to your basic transistor theory.
[00:07:36.060 → 00:07:41.520] Here is another variation of using an optocoupler.
[00:07:42.320 → 00:07:43.940] This time we're going to use it,
[00:07:43.940 → 00:07:49.260] connect the collector of the optocoupler detector
[00:07:49.260 → 00:07:51.660] right to the collector of the transistor.
[00:07:52.780 → 00:07:53.260] And of course,
[00:07:53.380 → 00:07:55.280] the emitter through a 1K resistor
[00:07:55.280 → 00:07:57.980] is going to switch on Q1.
[00:07:59.000 → 00:08:01.320] This is really a solid state relay.
[00:08:01.500 → 00:08:02.480] I use this
[00:08:02.480 → 00:08:06.340] in several of my other projects and videos.
[00:08:06.340 → 00:08:10.560] Note something with all of these circuits
[00:08:10.560 → 00:08:11.860] that I've just went through.
[00:08:12.000 → 00:08:15.020] Unless you've put capacitors or something in them,
[00:08:15.360 → 00:08:17.640] you can pulse width modulate them.
[00:08:18.260 → 00:08:20.640] So I can use this as a switch
[00:08:20.640 → 00:08:24.340] in either the high side or low side of a load,
[00:08:24.440 → 00:08:27.240] and I can pulse width modulated if I want to.
[00:08:27.240 → 00:08:35.140] This shows you the current flow here.
[00:08:35.280 → 00:08:36.460] This switches on.
[00:08:37.360 → 00:08:39.300] Get the base current here.
[00:08:39.400 → 00:08:40.140] Switches on.
[00:08:40.240 → 00:08:42.900] I get the collector current.
[00:08:43.080 → 00:08:45.680] Actually, it's IE, not IC,
[00:08:46.180 → 00:08:48.080] but they're pretty much the same thing.
[00:08:50.520 → 00:08:52.100] This gives you an illustration
[00:08:52.100 → 00:08:54.320] of how it works in loads.
[00:08:54.320 → 00:08:57.640] This could easily have been
[00:08:57.640 → 00:09:00.740] a push-button switch that you see here.
[00:09:01.280 → 00:09:02.500] Here is our motor.
[00:09:03.140 → 00:09:05.940] Here is our common for the power supply.
[00:09:06.880 → 00:09:08.580] You notice that I can place
[00:09:08.580 → 00:09:12.560] the transistor collector emitter
[00:09:12.560 → 00:09:15.460] from the previous circuit here.
[00:09:16.200 → 00:09:19.160] I can place it on the ground side.
[00:09:19.720 → 00:09:22.660] I can place it on the high or VCC side
[00:09:22.660 → 00:09:26.300] as long as I observe polarity.
[00:09:28.180 → 00:09:31.440] And it works just like a push-button switch,
[00:09:31.480 → 00:09:33.340] and all of this is isolated
[00:09:33.340 → 00:09:35.340] from your microcontroller.
[00:09:35.900 → 00:09:37.920] Boy, that makes things a lot easier.
[00:09:40.700 → 00:09:44.300] Here is a, I guess you could say,
[00:09:44.440 → 00:09:46.200] it's a fairly well-complete
[00:09:46.200 → 00:09:48.700] solid-state DC relay.
[00:09:48.700 → 00:09:50.520] Here is the protection circuit
[00:09:50.520 → 00:09:51.800] we talked about earlier.
[00:09:52.160 → 00:09:53.920] Here is our optocoupler,
[00:09:54.260 → 00:09:56.380] and here is our transistor switch.
[00:09:57.540 → 00:09:59.280] These, I have built this.
[00:09:59.360 → 00:10:00.460] It works just fine.
[00:10:03.560 → 00:10:05.700] All right, here's another variation
[00:10:05.700 → 00:10:06.920] of an optocoupler,
[00:10:07.080 → 00:10:09.120] but I won't go much into these.
[00:10:09.120 → 00:10:13.100] They use phototriax or photodiax,
[00:10:13.220 → 00:10:15.240] and they are used with triax
[00:10:15.240 → 00:10:17.720] and or SCRs
[00:10:17.720 → 00:10:21.260] to create solid-state AC relays.
[00:10:22.260 → 00:10:24.100] That's going to be a different video,
[00:10:24.440 → 00:10:26.380] but it's pretty much the same circuit
[00:10:26.380 → 00:10:27.660] on the left side,
[00:10:28.400 → 00:10:29.820] and we will go over
[00:10:29.820 → 00:10:33.040] how triax and SCRs work
[00:10:33.040 → 00:10:34.460] in separate videos.
[00:10:34.460 → 00:10:39.240] And that's this brief introduction
[00:10:39.240 → 00:10:41.460] to optocouplers.
[00:10:42.680 → 00:10:44.460] My website has a whole page
[00:10:44.980 → 00:10:46.080] of circuit examples
[00:10:46.080 → 00:10:47.820] and what we just went over.
[00:10:48.540 → 00:10:49.460] And now let's watch
[00:10:49.460 → 00:10:51.100] a couple of short video clips
[00:10:51.100 → 00:10:52.500] that I added onto this
[00:10:52.500 → 00:10:54.740] using optocouplers
[00:10:54.740 → 00:10:59.340] to control lights and motors
[00:10:59.340 → 00:11:01.520] and various other devices.
[00:11:01.520 → 00:11:06.760] Anyway, let's give this
[00:11:06.760 → 00:11:07.760] a little test run
[00:11:07.760 → 00:11:09.920] just to let you see
[00:11:09.920 → 00:11:10.620] what it can do.
[00:11:11.080 → 00:11:12.080] Power is on.
[00:11:12.200 → 00:11:13.040] You notice I got a little
[00:11:13.040 → 00:11:16.280] sort of alt-UV LED down there.
[00:11:16.420 → 00:11:17.900] Hey, they're useful for something.
[00:11:18.820 → 00:11:20.760] This is designed to be later on
[00:11:20.760 → 00:11:23.320] to operate an H-bridge,
[00:11:23.800 → 00:11:25.540] but what I want to do
[00:11:25.540 → 00:11:27.760] is just, if you look out here,
[00:11:27.820 → 00:11:29.320] you'll see an LED come on,
[00:11:29.320 → 00:11:31.780] and you'll notice
[00:11:31.780 → 00:11:32.660] this lights up.
[00:11:32.740 → 00:11:34.420] This is just an LED across.
[00:11:35.180 → 00:11:36.020] What I'm doing
[00:11:36.020 → 00:11:37.300] is reading one of the,
[00:11:37.420 → 00:11:40.180] is analog input channel.
[00:11:40.180 → 00:11:41.120] I'm reading the value
[00:11:41.120 → 00:11:41.960] on this pot
[00:11:41.960 → 00:11:45.180] to control the pulse width
[00:11:45.180 → 00:11:46.280] modulation out.
[00:11:47.820 → 00:11:50.180] I can control it on and off.
[00:11:50.280 → 00:11:51.320] Now, the trick is
[00:11:51.320 → 00:11:53.220] when I program
[00:11:53.220 → 00:11:55.020] this particular PIC chip,
[00:11:55.020 → 00:11:56.820] that if either,
[00:11:57.060 → 00:11:58.140] I have to have
[00:11:58.140 → 00:12:00.600] both,
[00:12:01.140 → 00:12:02.740] either one or the other
[00:12:02.740 → 00:12:03.860] outputs on.
[00:12:03.960 → 00:12:04.880] You'll see it over there
[00:12:04.880 → 00:12:05.760] is the green one.
[00:12:07.220 → 00:12:08.080] I got to have
[00:12:08.080 → 00:12:09.500] one or the other on.
[00:12:09.960 → 00:12:10.660] It's programmed
[00:12:10.660 → 00:12:12.120] to kill the pulse width
[00:12:12.120 → 00:12:13.240] modulation out
[00:12:13.240 → 00:12:14.840] if none of the other
[00:12:14.840 → 00:12:16.200] two outputs are working.
[00:12:16.340 → 00:12:17.060] Those will later
[00:12:17.060 → 00:12:18.660] go on to an H-bridge
[00:12:18.660 → 00:12:19.760] that I will demonstrate.
[00:12:21.580 → 00:12:22.820] Nothing much here.
[00:12:22.820 → 00:12:25.920] It works,
[00:12:26.080 → 00:12:27.700] it seems quite well.
[00:12:31.860 → 00:12:33.480] If you look further up,
[00:12:33.520 → 00:12:35.400] it has a 12 volt power supply.
[00:12:35.720 → 00:12:37.320] The important part
[00:12:37.320 → 00:12:38.960] to note in this circuit
[00:12:38.960 → 00:12:46.580] is the opto isolator here.
[00:12:46.780 → 00:12:48.120] Everything on that side
[00:12:48.120 → 00:12:49.280] of the opto isolator
[00:12:49.280 → 00:12:50.380] is 5 volts.
[00:12:50.380 → 00:12:52.200] Everything on this side,
[00:12:52.340 → 00:12:53.060] here, here,
[00:12:53.180 → 00:12:54.160] back through there,
[00:12:54.500 → 00:12:56.520] is 12 volts.
[00:12:57.640 → 00:12:59.080] So I can have
[00:12:59.080 → 00:13:00.400] really nice control
[00:13:00.400 → 00:13:01.980] of higher voltage circuits
[00:13:01.980 → 00:13:03.700] by using an opto coupler.
[00:13:05.440 → 00:13:07.080] Again, here is an overall
[00:13:07.080 → 00:13:08.560] picture of it once again.
[00:13:12.960 → 00:13:14.000] And you can see
[00:13:14.000 → 00:13:14.920] the light bars
[00:13:14.920 → 00:13:15.980] go on and off
[00:13:15.980 → 00:13:17.280] depending on polarity.
[00:13:17.280 → 00:13:19.560] The important part
[00:13:19.560 → 00:13:20.620] about this is
[00:13:20.620 → 00:13:22.480] is all this
[00:13:22.480 → 00:13:23.900] 12 volt circuitry
[00:13:23.900 → 00:13:24.440] over here,
[00:13:24.540 → 00:13:25.040] the motor,
[00:13:25.560 → 00:13:26.080] the H-bridge
[00:13:26.080 → 00:13:27.140] is only a section
[00:13:27.140 → 00:13:27.920] of this board,
[00:13:28.000 → 00:13:28.620] by the way.
[00:13:29.160 → 00:13:31.080] The power control circuit,
[00:13:31.580 → 00:13:32.340] the H-bridge,
[00:13:32.480 → 00:13:33.020] the motor,
[00:13:33.400 → 00:13:34.480] all of this stuff
[00:13:34.480 → 00:13:36.680] is completely isolated
[00:13:36.680 → 00:13:38.580] from all the 5 volt circuitry
[00:13:38.580 → 00:13:39.240] on the pick
[00:13:39.240 → 00:13:40.040] or Arduino
[00:13:40.040 → 00:13:41.500] or whatever you're using.
[00:13:47.280 → 00:13:51.060] of this
[00:13:53.500 → 00:13:54.380] a little bit
[00:13:54.380 → 00:13:55.060] over here.
[00:13:55.260 → 00:13:55.920] Now I'll show you
[00:13:55.920 → 00:13:57.880] how it plиль
[00:13:57.920 → 00:13:58.160] behind to flash
[00:13:58.160 → 00:14:00.580] in the end
[00:14:00.580 → 00:14:00.600] here.
[00:14:00.660 → 00:14:02.800] Of course,
[00:14:02.960 → 00:14:03.060] the wind
[00:14:03.060 → 00:14:04.020] can be
[00:14:04.020 → 00:14:04.440] fen Grü
[00:14:04.440 → 00:14:05.760] ow
[00:14:05.760 → 00:14:05.960] 아무�'t
[00:14:05.960 → 00:14:08.060] how the
[00:14:08.060 → 00:14:09.880] on by way.
