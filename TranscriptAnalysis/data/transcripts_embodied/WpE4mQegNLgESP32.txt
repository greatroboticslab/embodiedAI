WpE4mQegNLg
https://www.youtube.com/watch?v=WpE4mQegNLg
Unknown Category
Hello friends welcome to the IoT projects in this video we will make smart home automation IoT project using ESP32, Dwin HMI display, relay module and few sensors. Using this project you can easily control your AC home appliances like lights, fan, AC, TV etc and also monitor the real-time sensor data. So for the demonstration purpose I am using DST22 temperature and humidity sensor and LDR sensor but you can also use DST11 sensor which is more cheaper. This is a 7 inch Dwin HMI touch display here you can monitor the temperature humidity and LDR sensor real-time sensor value. You can also use this project as a smart thermostat controller where you can turn on and off the devices based on a sensor threshold value like turning on fan or AC automatically when the temperature value reaches a defined threshold value. Below sensor value widget you can see the four control buttons to control your home appliances. You can click on the toggle switch to turn on and off the relay and here you can attach four different AC appliances to the relay module and in this demo I haven't connected home appliances to the relay but you can easily connect 220 to 250 volt AC appliances and control them using this project. This project is a local area network based project in which you don't need an active internet connection to control and monitor your home appliances. Here I am configuring the ESP32 web server in soft app mode. So you just connect to the ESP32 smart home Wi-Fi access point by entering its password then enter the IP address of the ESP32 board on your web browser to monitor the real-time sensor data and control your appliances remotely using your smartphone or PC. So you don't need any Wi-Fi connection to control and monitor your home appliances. During this video I have shared a complete circuit diagram, Arduino source code, doing display GUI designing process etc. So you can easily make this project at your home. Although you can make this project easily using ESP32 relay module, DHT sensor and LDR sensor but it is better to use custom PCB for this project to avoid any loose connection. So I have designed a custom PCB for this project. You can go to the download links to download the project Gerber file and order the PCB directly from pcbware.com. pcbware.com is one-stop solution for your all the PCB needs like PCB prototyping, SMD stencil, PCB assembly, etc. Currently they have moved to a new factory and offering you up to 20% discount on 4 layer PCB and 6 layer PCB. PCBWare provides high quality material TG150 to 160 but keeps the same price with TG130 to 140. So get your first prototype PCB ready from pcbware.com. The link is in the description below. Just click on the PCB instant code tab then click on quick order PCB. Now upload your Gerber file. Select your preferred shipping method and place your order. Now let's assemble all the components and for that you have to connect the GST22 or GST11 sensor, LDR sensor and the relay module to the ESP32 board. So first we interface the sensor and then relays and make a serial communication to the display using RX2 and TX2 pins on the display module. Now connect the sensor relay module and doing HMI display to the ESP32 as shown here. Also provide the AC source to your home appliances as shown in the circuit diagram. Now let us visit the official website of dwingglobal.com. You can see the Dwing company making a wide range of high quality touch screen for android LCD, HDMI LCD and Linux LCD display. Under the download section go to the tools and download the DGUS Dwing graphic utilized software that is DGUS software and XR21X driver. The driver is for HDL662B board. We don't need to install this DGUS software. Under this DGUS folder you can see some executable files which includes tools like ICL tool, front generating tool, image resizing tool etc. inside this DGUS software. Inside XR21X folder there are the driver files. You need to install the driver on your PC to establish the communication between HDL662B and your PC. Double click the executable file to launch the driver installer. Now click on the install to install the driver on your windows PC. After installing the DGUS software and the driver open the DGUS.exe file. By default the software language is in Chinese. So go to the settings and change it to English. Now click on new to create a new project. Select the screen resolution of 800 by 480 pixels. Choose your project folder path. In this demonstration I am creating a new folder doing smart home and selecting the same folder path. Now you need to prepare images for your project. Here I have already created images and icons for my project. You can name your project images and icon folder as 32, 42, 46, 56, 58, 62, 64 and so on. Because we need to create an ICL file of these pictures later and memory is divided into different section. In this tutorial under 32 folder I have placed images of my UI. Make sure that your image resolution is 800 by 480 pixels and is in .bmp format. Under the 46 folder I have placed icon files. Similarly on the 62 folder I have placed the number icon files. Now add your project images from 32 folder. Here I have a single image. We should create ICL files of our images. So for that go to the settings menu and click on DGUS. After a new window will pop up. Now click on ICL tool. Here you need to select the images and generate the ICL file. Save this file with the name 32 under the doing set folder. Similarly choose the button icon and generate the ICL file as 46.icl under the same doing set folder. Finally select the number icons and generate the 62.icl file under the same doing under score set folder. We have successfully generated 3 ICL files. Now it's time to add functions to our UI. Here select the 00.bmp image then click on icon display menu. Let's create an artistic variables. Select the area and here you need to assign the vp address for this module. I am choosing 1000 as a vp address and selecting your icon file as 62. Now select the start icon as 0. Under the variable byte choose the integer 2 byte and integer digit as 2. Set the initial value as 0. You can also set the initial number as a highest value of your sensor data and resize the artistic variable according to your need and requirement. Now copy this module and place them on the humidity and LDR sensor widget. But don't forget to change their vp address to 1500 and 2000 respectively. You can also change the variable type if needed. Now let's design our toggle switch button for controlling appliances like light, fan, AC, TV etc. Go to icon display menu and choose the var icon display. Select the area where you want to display your icons. As always resize the module as your needs and choose the vp address as 2500. Choose the icon ICL file as 46.icl. When the value is minimum, select the off icon that is 0 icon and similarly set the maximum value as 1 and select the on icon that is 1 icon and keep the display module as transparent. Now copy the var icon module and paste them onto fan, TV, AC, controller widget area and change their vp addresses. For light the vp address is 2500, for fan 3000 and for tv 3500 and for AC 4000. Now from the touch control menu select the increment adjustment module. You can resize the module then select the data auto uploading. Click on no button effect. Give the same vp address as 2500. Click on low byte. Select the adjust method as plus plus and over limit operation as a cycle. Similarly adjust the step length to 1 and upper limit to 1. Finally set the touch effect as disposable setting. Also copy and paste the incremental adjustment module and set their vp addresses accordingly. Finally we have completed adding modules to our UI. Now click on save and generate to generate 13 touch file, 14 show file and 22 config bin files. Now you can preview the UI of our project from the display menu. Click on preview from the first page and you can see our newly created UI in a pop-up window. Here we cannot see the artistic variable and button icon module. They will be visible when we upload the project to our display. So let's quickly do that. If you don't know how to upload the project to this touch display then follow my previous getting started tutorial in which I have explained two processes to upload the project to our display using HD card and T5L download tool. So this is the result of our newly created UI after uploading the project file to the display. As in this project we are sending data to ESP32 web server as well as on the Dwin HMI display. And we are also receiving the data from both web server and display to the ESP32 module. So for sending purpose I am sending the frame with a VP address of that sensor value and that value is updating on the display. Similarly for receiving I am checking the serial receive frame for a particular button and that value of the program. So let's see if you can see the code and select the code and select the code. Most of the code are similar to our previous project. You can watch those videos if you are viewing our videos for the first time. I have already explained them in detail. Now select your ESP32 dev kit and correct COM port to upload this program into your ESP32 board. Click on the upload button to upload the code and after successful upload of this program you can see this project into the action. Now you can also see the real-time sensor data on the Dwin HMI display. You can see the value increasing and decreasing when the light source is moved onto the LDR sensor. This is a single page smart home UI where you can monitor the sensor data and control appliances from the same screen. You can control your home appliances connected through this four channel relay module. You can also see the user's mobile device. We have also configured the ESP32 web server in soft IP mode. So you just connect the smartphone to ESP32 smart home Wi-Fi access point by entering its password. Then enter the IP address of the ESP board on your browser to monitor real-time sensor data and control your appliances remotely using your smartphone or PC. So you don't need any Wi-Fi connection to control and monitor your home appliances. So we have successfully made this smart home controller project with Dwin HMI display and ESP32. So you can see the UI looks pretty good in this HMI display. I hope the tutorial was helpful to you. If it really help you then don't hesitate to like and subscribe to this channel. It's me Elsan signing off for today. Catch you soon on the next one.