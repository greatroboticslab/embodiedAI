yctzuuGAm-E
https://www.youtube.com/watch?v=yctzuuGAm-E
Unknown Category
Several radio stations are broadcasting their programs at the same time in the same area. Why don't those signals mix? It's not just radio stations. TV channels, Bluetooth, Wi-Fi, RF remote controllers, radio transceivers, and many other devices are sending and receiving data on radio waves. All of them are working at the same time and place and they are fine. Also, there are a lot of noise signals on air which are added to all those signals. Wondering why don't those signals mix? In this video, I am going to talk about RLC filters. After watching this video, you will find answers to many questions around this subject. In this video, you will see one of the most beautiful and important applications of inductors in electronics, I mean in practical circuits. And also, you will see how inductors and capacitors make love to remove a specific noise from your circuit. Get ready for this awesome hands-on learning. Please stay with me until the end of this video. Let's answer this question first. Why don't those signals mix? The answer is, they are mixed actually. Some newbies may think that those signals are placed in separate frequency bands, so they exist on air separately and independently. But this is not completely true. They are not separated. Frequency bands are abstract concepts. They are not truly separated. Surprisingly, all those radio stations, TV broadcastings, Wi-Fi, Bluetooth signals, RF remote controller signals, radio transceiver signals, and many other signals are mixed and form an integrated, blended and complicated signal. There is only one signal on air. I know, it is confusing. I want to do a simple experiment to demonstrate what I tried to say. I have generated these two signals using my function generator. Let's suppose that these two are radio signals from different radio stations broadcast at different frequencies. It's obvious that the frequency of this signal is higher than this because the cycles here are more than this in same time period. What will happen if these two signals are released at the same time? I have generated these two signals. This is a simple resistor-based signal mixer circuit. I am going to apply these two signals here to points A and B to see what will happen at point C. Look here. This trace is the result at point C. When two signals exist in the same medium, they will be added and form a new signal. Look here. Look here. This is the signal at point A. And this is the signal at point B. And this yellow trace is the result at point C. Two signals in previous experiments were not an exception. This is a general rule. When two or more signals share the same medium, either the air or a wire, they will mix and form a new signal, usually very complex signal. In real-world applications, unwanted signals are added to signals too. The radio antenna captures only one signal, which consists of all of those signals at once. Radio station signals, TV broadcasting signals, radio transceiver signals, etc. I want to call the signal here mixed signal. I mean this yellow trace. Suppose that these two signals are radio signals and there is a radio transmitter at point C. So we will have the mixed signal on the air. These two radio players are capturing the mixed signal, but the first radio player has to select the first signal and the second device has to select the second signal. Here you may ask, how can radio players select and play the signal from the desired radio station? Nice question. Here we need a circuit inside the radio player to select the desired signal from a mixed signal. Such a circuit is called a filter. A filter is actually a pathway circuit that blocks specific frequencies and allows others to pass. So, RLC filters are one of them, actually the most simple ones. In RLC filters, R stands for resistor, L stands for inductor, and C stands for capacitor. So, RLC filters are made up of resistors, inductors, and capacitors. This circuit filters high frequency and allows low frequency to pass to point E, and this circuit filters low frequency and allows high frequency to pass to point F. The frequency of the signal at point F. The frequency of the signal at point F is 1 kHz and the frequency of the signal at point F is 15 kHz. I want to apply this yellow trace to input of these two filters and probe points E and F. So, RLC filters are one of them, which is the most important ones. Look here, when I probe the point E, this blue trace, I mean, you see the first signal is here and the second signal, the high frequency signal, is filtered. There is only the first low frequency signal at point E. And when I probe the point F, you see there is only the second signal here and the first signal is filtered. I know you may have questions in mind about these circuits, I mean, this one and this one, particularly about the values of the capacitors and inductors. Why did I use these specific values? I will answer most of those questions later in this video. Just let me start from basics. I am going to explain the basics first and then I will talk about the capacitor, inductor and resistor rules in a filter circuit and discuss the effect of increasing or decreasing value of each component. Anyway, a filter is a circuit that blocks unwanted signals like noises and allows others to pass. A filter can be a high pass, low pass, band pass or a band stop filter. A notch filter is another name for a band stop filter. This is a sine wave form. This is a cycle. Period indicates the time it takes for the wave to complete a cycle. So, frequency is the number of cycles in time units, usually in one second. So, the frequency of this wave is higher than this one because it has more cycles than the first one in same amount of time. And these two waves have same frequency but the amplitude in the first one is greater than the second. I mean the second one is an attenuated version of the first one. This is a sample frequency response. This chart shows how the system will respond to incoming frequencies. The x-axis indicates the frequency on a logarithmic scale. The y-axis indicates the gain. This system will multiply the frequencies in this range by one. I mean between zero and omega one. Which means that the system will not change or manipulate the frequencies in this range. Here in this range the gain is zero. Which means that the system will multiply the frequencies in this range. I mean between omega one and omega two by zero. I mean the system will eliminate frequencies in this range. Here the gain is 0.5 in this range. Which means that the system will attenuate the frequencies in this range. I mean between omega two and omega three. Because it is going to multiply the frequencies in this range by 0.5. I mean the system will cut the signals in this range in half. Finally the system will boost the signals in this frequency range. I mean between omega three and omega four. Because the gain here is two. Which means that the system will multiply the signals in this range by two. A low pass filter has a parameter called omega zero. Which indicates a threshold frequency for the filter. The low pass filter will allow frequencies lower than omega zero. And block frequencies higher than omega zero. Look here. This is the frequency response of a low pass filter. The low pass filter will multiply frequencies lower than omega zero by one. Because the gain here is one. So the frequencies lower than omega zero will pass the filter without any change. And it will multiply frequencies higher than omega zero by zero. Because the gain here is zero. Which means that the frequencies higher than omega zero will be attenuated and eliminated. The high pass filter is the opposite of a low pass filter. I mean a high pass filter will allow frequencies higher than omega zero to pass. And block signals with a frequency lower than omega zero. A band pass filter has two tuning parameters. Omega zero and omega one. Which indicates two threshold frequencies. The band pass filter will allow frequencies between omega zero and omega one. To pass and block frequencies lower than omega zero or higher than omega one. This is frequency response of a notch filter. A notch filter is the opposite of band pass filter. I mean a notch filter will block frequencies between omega zero and omega one. And allow others to pass. Suppose that we have these signals on the medium with these frequencies. A 1 hertz. B 5 hertz. C 10 hertz. D 20 hertz. Actually this signal which is combination of signals a to d exists on the medium. A low pass filter with omega zero equals to 3. Will pass this one and blocks others. Because the frequency of this signal is lower than 3 hertz. I mean if I apply this mixed signal to this low pass filter input. The output will be this signal. A low pass filter with omega zero equals to 8. Will pass a and b signals. And block c and d signals. So the output of the low pass filter will be combination of signals a and b. I mean if I apply this signal to input of this filter. The output will be something like this. Which is combination of signals a and d. A high pass filter is the opposite of a low pass filter. A high pass filter with omega zero equals to 15. Will let the signal d to pass. This one. And blocks others. A band pass filter with omega zero equals to 8 hertz. And omega one equals to 15 hertz. And block others. Because the frequency of the signal c. Is 10 hertz. Which is between 8 hertz and 15 hertz. Remember. These are frequency response of ideal filters. In reality. It is not possible to make an ideal filter. This is why radio stations. And in general radio transmitters. Have to keep safe frequency distances. Because we can't make ideal filters. Anyway. Inside every radio receiver. There is a band pass filter. With adjustable omega zero and omega one. By turning the tuning potentiometer. The device changes the value of omega zero and omega one. To allow a specific radio station signal. To pass to the amplification circuit. It's that simple. Now is the time for exploring. The rule of each component. In the filter circuit. A capacitor will allow high frequencies to pass. And block low frequencies. This is why capacitors pass AC voltages. And block DC. Because the DC frequency is low. Actually zero. The capacitance of the capacitor. Has a direct relationship. With the frequency it can pass. The higher the capacitance of the capacitor. The lower the frequency it can pass. If a capacitor is used like this. In series with the signal. Then it will pass the high frequencies. And block low frequencies. Like DC voltages. And if the capacitor is used like this. Then it will pass high frequencies to ground. So it will allow low frequencies to pass. The capacitor in this structure. Is called coupling capacitor. And the capacitor in this structure. Is called a bypass capacitor. You may have seen some capacitors. Near VCC or VDD pins on microcontrollers. They are bypass capacitors. Used to filter high frequency noises. Literally they are used as low pass filters. There are similar things about inductors. But inductors work exactly opposite to capacitors. I mean inductors pass low frequencies. And block high frequencies. This one will act like a low pass filter. Because high frequencies will be blocked by the inductor. And only low frequencies will pass the inductor. But this one will act like a high pass filter. Because the inductor is going to pass the low frequencies to ground. So high frequencies will reach the output. Note that we are talking about ideal capacitors and inductors. I will talk about real capacitor and inductor behavior later in this video. Anyway. To make a low pass filter or a high pass filter. We can use either a single capacitor or a single inductor. But before moving further. I think it would be better to do some experiments. This is a very simple low pass filter. Using a single capacitor and a resistor. It is called an RC low pass filter. Because it consists of only a resistor and a capacitor. I am going to apply several frequencies to its input. And see its response on output. This blue trace is the signal on input. Which is generated by this function generator. And the yellow trace is the signal at output. I mean the response of this low pass filter to input signal. I am going to start from 10 hertz signal on input. The amplitude of output signal is exactly equal to amplitude of input signal. It means that this filter is passing 10 hertz signal perfectly. So the amplitude of this filter is 1 at 10 hertz frequency. I am going to increase the frequency to 20 hertz. It is still passing 20 hertz signal perfectly. So the gain at 20 hertz is 1. Let me increase the frequency to 100 hertz. Still it is perfectly passing 100 hertz frequency. I am going to increase the frequency. Until the amplitude of output signal starts to shrink. Now at 20 kilohertz the output signal starts to shrink. The gain is. The gain is 0.92 at 20 kilohertz. Now I am going to test 30 kilohertz. The amplitude is. The gain is. Is 0.86. Let me test 40 kilohertz. The amplitude of the filter is 0.84 at 40 kilohertz. Now I am testing 50 kilohertz. The gain of the filter is 0.77 at 50 kilohertz. By increasing the frequency and calculating the gain. I have gotten the frequency response of this simple low-pass filter. This simple filter is passing frequencies lower than 20 kilohertz perfectly. 20 kilohertz perfectly. And eliminating frequencies higher than 1 megahertz completely. But it is attenuating frequencies from 20 kilohertz to 1 megahertz. This frequency range is called pass band. Here is called stop band. And the frequency range between them is called transition band. This is frequency response of an ideal low-pass filter. And this is frequency response of a real low-pass filter. Are they similar? I don't think so. Anyway, in some cases using a single capacitor is sufficient and okay. For instance, we always put a capacitor beside VCCP in our microcontroller. But in some other cases, we have to make better filters. A good filter is one that has minimal transition band. We can use combination of resistors, capacitors, and inductors to make good enough low-pass, high-pass, band-pass, and notch filters. In this circuit, the mixed input signal is coming through the resistor and reaching the inductor. The inductor will block or attenuate some high-frequency signals and pass lower frequencies to capacitor. And then the capacitor will pass a portion of remaining high frequencies to ground and let low frequencies to pass. Maybe my demonstration of the circuit is not scientific, but it is easy to remember and easy to understand. Anyway, I'm going to test this circuit to see the impact of the inductor on this low-pass filter. Let's see. Look here. At 500 kHz, the inductor is attenuating the output signal a bit. By removing the inductor, by shorting its leads using this wire, you can see the output signal grows a bit. At 500 kHz, this is the signal without inductor. And this is the signal with inductor. Let me increase the frequency to 1 MHz. Here, the impact of the inductor is more visible. At 2 MHz. This is the signal, output signal without inductor. And this is the output signal with inductor. At 2 MHz, the impact of the inductor is more visible. And it's really high. This is the output signal without the inductor. And this is the output signal with inductor. At 2 MHz. This is an RLC high-pass filter. Likewise, in a high-pass filter, there is a capacitor, a resistor, and an inductor. But this time, the capacitor is in series with the mixed signal coming through the resistor. And the inductor is connecting the signal coming from the capacitor to the ground. Here, the capacitor is blocking some low frequencies like DC and passing only high frequencies. After that, the modified signal coming from the capacitor will reach the inductor. And the inductor will pass the remaining low frequencies to the ground and not touch the high frequencies. I want to test this circuit. Here, the inductor is passing frequencies higher than 100 kHz and blocking frequencies lower than 100 kHz. This frequency response is not even similar to a frequency response of an ideal high-pass filter. But if you look attentively here, the gain here is 0. But here, the gain is exactly 0. So, this filter is passing frequencies higher than 10 MHz. And it is not 0. Let me test it using my function generator. Here, the frequency response is 0. Here, the frequency is 10 MHz. If you look here, you can see frequency is passing. Actually, the frequency is passing the filter even in 15 MHz. And this is 16 MHz. So, this filter is passing frequencies higher than 100 kHz. And it is eliminating frequencies lower than 100 kHz. We were expecting the high-pass filter frequency response to be something like this. But we got this. You may ask me, why is this happening? What is this? This is a really difficult question. To answer this question, I have to talk about the nature of those components. I mean, I have to talk about the real capacitor and the real inductor. Resistors are simple and they are almost linear. We use resistors as an attenuator to boost the impact of capacitor and inductor filtering capabilities. When we are filtering signals to extract data or meaningful signals. This is what we are expecting the capacitor to be. But this is what it is in reality. This is an ideal capacitor. And this is a real capacitor. See, there is an ideal capacitor inside a real capacitor along with other stuff. Impedance of an ideal capacitor has to decrease by increasing the frequency of the signal and reach the zero impedance after reaching a specific frequency. But you see, there is a resistor here called ESR in series with the ideal capacitor inside the real capacitor. So, impedance of a real capacitor will never reach zero. In the best case, it will reach the ESR value. On the other hand, there is an inductor here in series with the capacitor. The impedance of this inductor will increase with increasing frequency. It means that the total impedance of a real capacitor can't be lower than the ESR value. And surprisingly, the total impedance will increase by exceeding a certain frequency because of this ESL inductor inside the capacitor. So, this is frequency response of an ideal capacitor. And the frequency response of a real capacitor will be something like this. The frequency at this point where the impedance of the capacitor is at its minimum is called the resonant frequency of the capacitor. At this point, this ideal capacitor and this ESL inductor are resonating, making the impedance of this path minimum at a specific frequency called the resonant frequency. This resonant frequency differs from capacitor to capacitor. So, you have to refer to data sheet or find it by trial and error. There is a similar thing about inductors. We always expect inductors to be something like this. But a real inductor is something like this. This one is an ideal inductor. This is a tiny capacitance in parallel with the inductor. And this is a tiny resistor in series with the inductor. This is frequency response of an ideal inductor. And this is frequency response of a real inductor. We always expect the frequency response of an inductor to be something like this. By increasing the frequency, we expect the impedance of the inductor to approach infinity. But this tiny capacitance here in parallel with the inductor will surprise us. Look here. The impedance of the inductor will increase by increasing the frequency. But after exceeding a specific frequency, the effect of the parallel capacitor will come into play and it will decrease the impedance. This specific frequency is called resonant frequency of the inductor. This is why the frequency response of this bandpass filter is something like this, which is not similar to ideal bandpass filter frequency response, because these components are not ideal. If I replace the inductor with real inductor circuit and the capacitor with real capacitor circuit, I will have this circuit. And this frequency response actually is frequency response of this circuit, not this. In theory, this high-pass filter will block every signal with a frequency lower than omega 0, and it will allow signals with a frequency higher than omega 0 to pass through the filter untouched. But this is not happening in reality, because the components are not ideal. Anyway, now that we are familiar with the characteristics of those components, it's time to move on to other filters. This is the simplest RLC bandpass filter. This capacitor works like a high-pass filter, and this inductor works like a low-pass filter. Let me give you a numerical example. If the inductor is passing frequencies lower than 3 kHz, and the capacitor is passing frequencies higher than 1 kHz, then signals with frequencies from 1 kHz to 3 kHz will pass through the filter from input to output. Let's consider a 2 kHz signal. The 2 kHz signal will pass the inductor because 2 kHz is lower than 3 kHz, and it will pass the capacitor because 2 kHz is higher than 1 kHz. But signals with frequencies higher than 3 kHz will be blocked by this inductor, and signals with frequencies lower than 1 kHz will be blocked by this capacitor. I'm going to test this circuit. This is the frequency response of this filter. The filter is passing frequencies from 200 Hz to 10 MHz, and blocking others. This is the simplest RLC bandstop or notch filter. Likewise, in a notch filter, this capacitor is working as a high-pass filter, and this inductor is working as a low-pass filter. But this structure makes them form a notch filter. High frequencies will pass the filter through the capacitor, and low frequencies will pass the filter through the inductor. But middling frequencies will be blocked by both of them. I'm going to give you a numerical example for notch filters as well. If the capacitor is passing frequencies higher than 3 kHz, and the inductor is passing frequencies lower than 1 kHz, then frequencies higher than 3 kHz will find a way to output through the capacitor, and frequencies lower than 1 kHz will reach the output through the inductor. But frequencies from 1 kHz to 3 kHz, like a 2 kHz sine wave, will never reach the output. There are other forms of RLC, low-pass, high-pass, band-pass, and notch filters, that I didn't cover them in this video. Also, you can make more accurate filters by combining or repeating basic RLC filters. Anyway, there are two more questions I guess you have in mind. The first one is the resistor. The resistor is present in all filters I introduced, but I didn't mention the purpose of its usage. It seems that all the work is done by capacitors and inductors. What is the resistor good for? Good question. The second question is about the value of those components. How to determine the exact values for resistors, capacitors, and inductors? Let me start with the first question. If the resistor is not used here, a single capacitor can't do anything. You ask me why? Look here. If you apply a signal here, it will never change, because the input and output points are the same. How can the signal here be different from the signal here? It's impossible, because these two points are directly connected. These two are in identical nodes. So, we need the resistor here to separate the input and the output. Then the capacitor can manipulate the signal. Also, there is another hidden resistor here. We always select zero ohm for this resistor, so it is not present in the filter circuit. I'm going to call this resistor Ri and this resistor Ro. The higher the resistance of Ri, the easier the capacitor will manipulate the signal. Also, the lower the resistance of Ro, the easier the manipulated signal will reach the output. So, we always prefer to select zero ohm for our own. As I told you before, a single capacitor without a resistor can't do anything. Now, you may ask, if a filter can't do anything without a resistor, why do we put a single capacitor near the VCC pin of a microcontroller? Nice question. Here is where you will see the difference between theory and practice. This is the simplest low-pass filter we are using beside any microcontroller. Is there only a capacitor here? Absolutely not. There are two more hidden resistors here. These resistors are resistance of wires or traces connecting the power supply to VCC pin of the microcontroller through the capacitor. That's why I always emphasize putting the bypass capacitor at the closest point to the VCC or VDD pin of the microcontroller. By putting the capacitor near the microcontroller, the Ri will grow and Ro will shrink. To minimize the Ro and maximize the Ri, we have to put the capacitor as close as possible to the microcontroller. And then the capacitor can do its job perfectly. Now is the time to move on to the last question. How should I select right values for resistor, capacitor, inductor? Suppose that you need to block a specific frequency in your circuit. For instance, when you realize there is a noise in your circuit, you have to use your oscilloscope to measure the frequency of that noise, and then set up a notch filter to remove that specific frequency, say 80 kHz. This is a notch filter. In this filter circuit, we have to select proper capacitor and inductor values to stop the frequency we are intending to kill. I mean 80 kHz. By using this formula, you can select capacitors and inductors to resonate at the desired frequency to block the noise. Remember, at the resonant frequency, the impedance of this structure will be infinite, and it will block the 80 kHz frequency noise. One simple option is to select the desired value for the capacitor, and calculate the inductor value by using this formula. For example, if I select 1 µF for the capacitor, then by using this formula, by choosing 1 µF for this capacitor, the value of this inductor has to be 3.96 µF to block the noise perfectly. 3.96 µF inductor is not a standard value, and it is not available. You can use other values near 3.96 µF, or you can combine inductors to make something near the desired value. 3.96 µF and 0.47 µF are standard values for inductors, and they are available in the market. The total inductance of these two is 3.77 µF, which is near the desired inductance. If I replace this value here, and this value here, I will get a new frequency, the resonant frequency equal to... By using a 3.77 µH inductor along with 1 µF capacitor, the filter will block frequencies around 81.9 kHz, which is close enough to the disturbing frequency. When an inductor and a capacitor are resonating, actually they are making love. They are dancing. It's so beautiful. Anyway, in formulas like this, we always suppose that the inductors and capacitors are ideal. Real inductors and real capacitors may behave a bit different. By the way, you can find formulas like this for every type of RLC. RL and RC filters on the internet. Also, there are online filter calculators there. You can use them. As the last point, I'm going to talk about the impact of resistor value. This resistor here is used to attenuate the power of the incoming signal, so the capacitor and the inductor can do their jobs easily. By increasing the value of this resistor, the capacitors and inductor's capabilities in filtering will be boosted, but the power of the output signal will be decreased. In contrast, by decreasing the value of this resistor, it will be hard for the capacitor and inductor to manipulate the incoming signal, but the output signal will remain strong. Even though RLC filters are nice, there are other filters that are superior to RLC filters, and you have to learn about them. Anyway, we have reached the final moments of this video. I hope you enjoyed this video and learned something new. Thanks for watching. If you found this video helpful, please give me a thumbs up, and if you liked this video, make sure to subscribe for more.